(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-pages"],{"3e67":function(e,t,s){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},"5a0c":function(e,t,s){!function(t,s){e.exports=s()}(0,(function(){"use strict";var e="millisecond",t="second",s="minute",n="hour",i="day",r="week",a="month",c="quarter",o="year",l="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,s){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(s)+e},v={s:f,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),n=Math.floor(s/60),i=s%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(i,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var n=12*(s.year()-t.year())+(s.month()-t.month()),i=t.add(n,a),r=s-i<0,c=t.add(n+(r?-1:1),a);return+(-(n+(s-i)/(r?i-c:c-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:a,y:o,w:r,d:i,D:l,h:n,m:s,s:t,ms:e,Q:c}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g="en",m={};m[g]=h;var p=function(e){return e instanceof $},y=function(e,t,s){var n;if(!e)return g;if("string"==typeof e)m[e]&&(n=e),t&&(m[e]=t,n=e);else{var i=e.name;m[i]=e,n=i}return!s&&n&&(g=n),n||!s&&g},S=function(e,t){if(p(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new $(s)},b=v;b.l=y,b.i=p,b.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,$offset:t.$offset})};var $=function(){function f(e){this.$L=this.$L||y(e.locale,null,!0),this.parse(e)}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var i=n[2]-1||0;return s?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return b},v.isValid=function(){return!("Invalid Date"===this.$d.toString())},v.isSame=function(e,t){var s=S(e);return this.startOf(t)<=s&&s<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,s){return b.u(e)?this[t]:this.set(s,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,c){var d=this,u=!!b.u(c)||c,f=b.p(e),v=function(e,t){var s=b.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return u?s:s.endOf(i)},h=function(e,t){return b.w(d.toDate()[e].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},g=this.$W,m=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case o:return u?v(1,0):v(31,11);case a:return u?v(1,m):v(0,m+1);case r:var S=this.$locale().weekStart||0,$=(g<S?g+7:g)-S;return v(u?p-$:p+(6-$),m);case i:case l:return h(y+"Hours",0);case n:return h(y+"Minutes",1);case s:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(r,c){var d,u=b.p(r),f="set"+(this.$u?"UTC":""),v=(d={},d[i]=f+"Date",d[l]=f+"Date",d[a]=f+"Month",d[o]=f+"FullYear",d[n]=f+"Hours",d[s]=f+"Minutes",d[t]=f+"Seconds",d[e]=f+"Milliseconds",d)[u],h=u===i?this.$D+(c-this.$W):c;if(u===a||u===o){var g=this.clone().set(l,1);g.$d[v](h),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else v&&this.$d[v](h);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[b.p(e)]()},v.add=function(e,c){var l,d=this;e=Number(e);var u=b.p(c),f=function(t){var s=S(d);return b.w(s.date(s.date()+Math.round(t*e)),d)};if(u===a)return this.set(a,this.$M+e);if(u===o)return this.set(o,this.$y+e);if(u===i)return f(1);if(u===r)return f(7);var v=(l={},l[s]=6e4,l[n]=36e5,l[t]=1e3,l)[u]||1,h=this.$d.getTime()+e*v;return b.w(h,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),i=this.$locale(),r=this.$H,a=this.$m,c=this.$M,o=i.weekdays,l=i.months,d=function(e,n,i,r){return e&&(e[n]||e(t,s))||i[n].substr(0,r)},f=function(e){return b.s(r%12||12,e,"0")},v=i.meridiem||function(e,t,s){var n=e<12?"AM":"PM";return s?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:b.s(c+1,2,"0"),MMM:d(i.monthsShort,c,l,3),MMMM:d(l,c),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,o,2),ddd:d(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(r),HH:b.s(r,2,"0"),h:f(1),hh:f(2),a:v(r,a,!0),A:v(r,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return s.replace(u,(function(e,t){return t||h[e]||n.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(e,l,d){var u,f=b.p(l),v=S(e),h=6e4*(v.utcOffset()-this.utcOffset()),g=this-v,m=b.m(this,v);return m=(u={},u[o]=m/12,u[a]=m,u[c]=m/3,u[r]=(g-h)/6048e5,u[i]=(g-h)/864e5,u[n]=g/36e5,u[s]=g/6e4,u[t]=g/1e3,u)[f]||g,d?m:b.a(m)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return m[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),n=y(e,t,!0);return n&&(s.$L=n),s},v.clone=function(){return b.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),w=$.prototype;return S.prototype=w,[["$ms",e],["$s",t],["$m",s],["$H",n],["$W",i],["$M",a],["$y",o],["$D",l]].forEach((function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e(t,$,S),S},S.locale=y,S.isDayjs=p,S.unix=function(e){return S(1e3*e)},S.en=m[g],S.Ls=m,S}))},"72bf":function(e,t,s){"use strict";const n=s("3e67"),i=s("f234"),r=s("f32c"),a=e=>null===e||void 0===e;function c(e){switch(e.arrayFormat){case"index":return t=>(s,n)=>{const i=s.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?s:null===n?[...s,[d(t,e),"[",i,"]"].join("")]:[...s,[d(t,e),"[",d(i,e),"]=",d(n,e)].join("")]};case"bracket":return t=>(s,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?s:null===n?[...s,[d(t,e),"[]"].join("")]:[...s,[d(t,e),"[]=",d(n,e)].join("")];case"comma":case"separator":return t=>(s,n)=>null===n||void 0===n||0===n.length?s:0===s.length?[[d(t,e),"=",d(n,e)].join("")]:[[s,d(n,e)].join(e.arrayFormatSeparator)];default:return t=>(s,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?s:null===n?[...s,d(t,e)]:[...s,[d(t,e),"=",d(n,e)].join("")]}}function o(e){let t;switch(e.arrayFormat){case"index":return(e,s,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=s):n[e]=s};case"bracket":return(e,s,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=[s]:n[e]=s};case"comma":case"separator":return(t,s,n)=>{const i="string"===typeof s&&s.split("").indexOf(e.arrayFormatSeparator)>-1,r=i?s.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===s?s:u(s,e);n[t]=r};default:return(e,t,s)=>{void 0!==s[e]?s[e]=[].concat(s[e],t):s[e]=t}}}function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function f(e){return Array.isArray(e)?e.sort():"object"===typeof e?f(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function v(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){let t="";const s=e.indexOf("#");return-1!==s&&(t=e.slice(s)),t}function g(e){e=v(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),l(t.arrayFormatSeparator);const s=o(t),n=Object.create(null);if("string"!==typeof e)return n;if(e=e.trim().replace(/^[?#&]/,""),!e)return n;for(const i of e.split("&")){let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),s(u(e,t),a,n)}for(const i of Object.keys(n)){const e=n[i];if("object"===typeof e&&null!==e)for(const s of Object.keys(e))e[s]=m(e[s],t);else n[i]=m(e,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const s=n[t];return Boolean(s)&&"object"===typeof s&&!Array.isArray(s)?e[t]=f(s):e[t]=s,e},Object.create(null))}t.extract=g,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),l(t.arrayFormatSeparator);const s=s=>t.skipNull&&a(e[s])||t.skipEmptyString&&""===e[s],n=c(t),i={};for(const a of Object.keys(e))s(a)||(i[a]=e[a]);const r=Object.keys(i);return!1!==t.sort&&r.sort(t.sort),r.map(s=>{const i=e[s];return void 0===i?"":null===i?d(s,t):Array.isArray(i)?i.reduce(n(s),[]).join("&"):d(s,t)+"="+d(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[s,n]=r(e,"#");return Object.assign({url:s.split("?")[0]||"",query:p(g(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:u(n,t)}:{})},t.stringifyUrl=(e,s)=>{s=Object.assign({encode:!0,strict:!0},s);const n=v(e.url).split("?")[0]||"",i=t.extract(e.url),r=t.parse(i,{sort:!1}),a=Object.assign(r,e.query);let c=t.stringify(a,s);c&&(c="?"+c);let o=h(e.url);return e.fragmentIdentifier&&(o="#"+d(e.fragmentIdentifier,s)),`${n}${c}${o}`}},"792d":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"admin-route-wrapper",staticClass:"dvs-relative dvs-max-w-1/2 dvs-self-center dvs-shadow-lg dvs-bg-admin-bg dvs-text-admin-fg dvs-rounded dvs-pointer-events-auto",staticStyle:{"min-width":"400px"},attrs:{id:"dvs-admin-content-container"}},[s("vue-scrollbar",{ref:"Scrollbar",staticClass:"dvs-max-h-screenpad"},[s("div",[s("div",[e.can("manage slices")?s("div",{staticClass:"dvs-pt-8 dvs-pb-16 dvs-relative"},[s("div",{staticClass:"dvs-absolute dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4"},[s("toggle",{attrs:{id:e.randomString(8),mini:!0},on:{change:e.setDevMode}})],1),s("div",{staticClass:"dvs-px-8 dvs-mb-8 dvs-text-xl dvs-font-sans"},[s("div",{staticClass:"dvs-cursor-pointer dvs-flex dvs-items-center",on:{click:function(t){return e.goToEditPage()}}},[s("span",{staticClass:"dvs-text-xs dvs-mr-2"},[s("edit-icon")],1),e._v(" "+e._s(e.currentPage.title)+" ")])]),s("div",{staticClass:"dvs-p-8 dvs-pt-0"},[e.showTimeTravel?s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[e._v("Preview Date Time")]),s("div",{staticClass:"dvs-flex"},[s("date-picker",{ref:"datepicker",staticClass:"dvs-mr-2",attrs:{settings:{date:!0,time:!0}},model:{value:e.timeTravelDate,callback:function(t){e.timeTravelDate=t},expression:"timeTravelDate"}}),s("button",{staticClass:"dvs-rounded dvs-btn dvs-btn-primary dvs-btn-sm dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-text-xs dvs-font-bold",on:{click:e.timeTravel}},[e._v(" Go ")])],1)]):s("fieldset",{staticClass:"dvs-fieldset"},[s("div",{staticClass:"flex flex-col items-stretch"},[s("label",{staticClass:"dvs-opacity-75"},[e._v("Page Version")]),s("select",{staticClass:"dvs-small dvs-bg-admin-secondary-bg dvs-text-admin-secondary-fg",on:{change:e.selectVersion}},[e._l(e.currentPage.versions,(function(t){return s("option",{key:t.id,domProps:{value:t.id,selected:t.current}},[e._v(" "+e._s(t.name)+" "),t.current?[e._v("(Currently Viewing)")]:e._e(),t.is_live?[e._v(" (Live)")]:e._e()],2)})),s("option",{attrs:{value:"timetravel"}},[e._v("Time Travel Preview")])],2)])])]),s("div",{staticClass:"dvs-px-8"},[s("fieldset",{staticClass:"dvs-fieldset"},[s("label",{staticClass:"dvs-opacity-75"},[e._v("Page Slices")])])]),s("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-center"},[s("draggable",e._b({staticClass:"dvs-w-full dvs-px-4",attrs:{list:e.currentPageSlices,tag:"ul"}},"draggable",{group:{name:"slices"},animation:200,ghostClass:"dvs-ghost",handle:".handle",dragClass:"dvs-chosen-drag-slice",emptyInsertThreshold:10,removeCloneOnHide:!1},!1),[e._l(e.currentPageSlices,(function(t,n){return[s("slice-editor",{key:e.randomString(8,n),attrs:{depth:1},on:{opened:function(s){return e.openSlice(t)},addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice,copySlice:e.copySlice},model:{value:e.currentPageSlices[n],callback:function(t){e.$set(e.currentPageSlices,n,t)},expression:"currentPageSlices[key]"}})]}))],2)],1),e.additionalPageSettings?s("div",{staticClass:"dvs-px-8"},[s("fieldset",{staticClass:"dvs-fieldset dvs-mb-2"},[s("label",{staticClass:"dvs-mb-2 dvs-cursor-pointer",on:{click:function(t){e.additionalSettingsOpen=!e.additionalSettingsOpen}}},[e._v("Additional Page Settings")])]),s("slice-editor-fields",{directives:[{name:"show",rawName:"v-show",value:e.additionalSettingsOpen,expression:"additionalSettingsOpen"}],attrs:{"the-fields":e.additionalPageSettings},model:{value:e.currentPage.settings.fields,callback:function(t){e.$set(e.currentPage.settings,"fields",t)},expression:"currentPage.settings.fields"}})],1):e._e(),s("div",{staticClass:"dvs-relative dvs-flex dvs-flex-col dvs-items-center dvs-px-8"},[!0===e.createSlice?s("manage-slice",{ref:"manageSlice",attrs:{mode:"inserting"},on:{addSlice:e.addSlice,cancel:function(t){e.createSlice=!1}}}):e._e()],1)]):s("div",[s("div",{staticClass:"dvs-p-8"},[s("fieldset",{staticClass:"dvs-fieldset"},[s("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-stretch"},[s("h4",[e._v("Administration")]),s("p",{staticClass:"dvs-mt-4"},[e._v("Use the icons along the left column to navigate.")])])])])]),e.can("manage slices")?s("div",{staticClass:"dvs-absolute dvs-bottom-0 dvs-left-0 dvs-right-0 dvs-mb-3 dvs-flex dvs-justify-around dvs-items-stretch dvs-p-2 dvs-px-8"},[s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary dvs-w-2/5 dvs-mr-2 dvs-flex dvs-justify-center dvs-items-center",on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e.saving?s("refresh-icon",{staticClass:"dvs-mr-2 dvs-rotate-ccw",attrs:{w:"15",h:"15"}}):e._e(),e._v("Save Page ")],1),s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-secondary dvs-w-3/5 dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-font-bold dvs-w-2/5",on:{click:function(t){return t.preventDefault(),e.requestAddSlice(t)}}},[e._v(" Add Slice ")])]):e._e()])])])],1)},i=[],r=(s("99af"),s("7db0"),s("caad"),s("c975"),s("d81d"),s("a434"),s("d3b7"),s("ac1f"),s("2532"),s("5319"),s("841c"),s("53ca")),a=s("5530"),c=s("2f62"),o=s("7e6e"),l=s("29ec"),d=s("72bf"),u={name:"PageEditor",components:{DatePicker:o["default"],RefreshIcon:function(){return s.e("devise-icons").then(s.bind(null,"e862"))},draggable:function(){return Promise.all([s.e("devise-editors~devise-media~devise-slices"),s.e("devise-editors")]).then(s.t.bind(null,"310e",7))},ManageSlice:function(){return Promise.all([s.e("devise-editors~devise-media~devise-slices"),s.e("devise-editors")]).then(s.bind(null,"7589"))},SliceEditor:function(){return Promise.all([s.e("devise-editors~devise-media~devise-slices"),s.e("devise-editors")]).then(s.bind(null,"0fab"))},SliceEditorFields:function(){return Promise.all([s.e("devise-editors~devise-media~devise-slices"),s.e("devise-editors")]).then(s.bind(null,"20c2"))},Toggle:function(){return s.e("devise-utilities").then(s.bind(null,"aa28"))},VueScrollbar:function(){return Promise.all([s.e("devise-pages"),s.e("devise-administration")]).then(s.t.bind(null,"011e",7))},EditIcon:function(){return s.e("devise-icons").then(s.bind(null,"39b0"))}},mixins:[l["a"]],data:function(){return{saving:!1,createSlice:!1,showTimeTravel:!1,timeTravelDate:null,additionalSettingsOpen:!1,queryString:d}},computed:Object(a["a"])(Object(a["a"])({},Object(c["c"])("devise",["currentPage","sliceConfig"])),{},{currentPageSlices:function(){return this.currentPage.slices},additionalPageSettings:function(){var e=this;if(window.deviseSettings.$config.additionalPageSettings){var t=window.deviseSettings.$config.additionalPageSettings.find((function(t){return t.siteId===e.currentPage.site_id}));if(t)return t.fields}return!1}}),mounted:function(){var e=this;this.additionalPageSettings&&(this.currentPage.settings.fields=Object.assign({},this.additionalPageSettings,this.currentPage.settings.fields)),setTimeout((function(){e.$watch("currentPage",(function(){window.onbeforeunload=function(){return"Changes you made may not be saved"}}),{deep:!0})}),1e3)},methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])("devise",["savePage","setDevMode"])),{},{requestSavePage:function(){var e=this;this.saving=!0,this.savePage({page:this.currentPage}).then((function(e){480===e?window.deviseSettings.$bus.$emit("showForceSave"):window.onbeforeunload=null})).finally((function(){e.saving=!1,e.recalculateScroll()}))},goToEditPage:function(){this.$router.push({name:"devise-pages-admin",params:{workflowKey:"jumpto-edit-page",pageId:this.currentPage.id}})},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.currentPage.slices.map((function(e){return t.closeSlice(e)})),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)},requestAddSlice:function(){this.createSlice=!0},addSlice:function(e,t){if("undefined"!==typeof t){var s=this.sliceConfig(t);!0===s.has_child_slot&&("undefined"===typeof t.slices&&this.$set(t,"slices",[]),t.slices.push(e))}else!0===e.metadata.has_child_slot&&"undefined"===typeof e.slices&&this.$set(e,"slices",[]),this.currentPage.slices.push(e);this.createSlice=!1},findReferenceSliceInSlices:function(e,t){var s=this;return e.find((function(e){return e===t?e:e.slices?s.findReferenceSliceInSlices(e.slices,t):void 0}))},editSlice:function(e,t){e.metadata.has_child_slot&&(e.slices=t.slices),this.currentPage.slices.splice(this.currentPage.slices.indexOf(t),1,e)},setSubSliceInstaceToZero:function(e){for(var t=0;t<e.length;t+=1)e[t].metadata.instance_id=0,"object"===Object(r["a"])(e[t].slices)&&e[t].slices.length>0&&(e[t].slices=this.setSubSliceInstaceToZero(e[t].slices));return e},copySlice:function(e,t){null===t&&(t=this.currentPage);var s=JSON.parse(JSON.stringify(e));s.metadata.instance_id=0,"object"===Object(r["a"])(s.slices)&&s.slices.length>0&&(s.slices=this.setSubSliceInstaceToZero(s.slices)),t.slices.push(s)},removeSlice:function(e,t){"undefined"===typeof t&&(t=this.currentPage),t.slices.splice(t.slices.indexOf(e),1)},selectVersion:function(e){if("timetravel"===e.target.value)return this.showTimeTravel=!0,!1;var t=parseInt(e.target.value,0),s=document.location.href,n="";return s.includes("version_id")?(n=s.replace(/(version_id=[0-9]*)/g,"version_id=".concat(t)),document.location.href=n,!0):(n=s,n=n.includes("?")?"".concat(n,"&"):"".concat(n,"?"),document.location.href="".concat(n,"version_id=").concat(t),!0)},timeTravel:function(){var e={time_travel_to:this.timeTravelDate},t=this.queryString.stringify(e);return document.location.search=t,!0},recalculateScroll:function(){var e=this;this.$nextTick((function(){"undefined"!==typeof e.$refs.Scrollbar&&(e.$refs.Scrollbar.calculateSize(),e.$refs.Scrollbar.scrollToY(0))}))}})},f=u,v=s("2877"),h=Object(v["a"])(f,n,i,!1,null,null,null);t["default"]=h.exports},"7e6e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("flat-pickr",{ref:"picker",staticClass:"w-full",attrs:{config:e.config,placeholder:e.placeholder},model:{value:e.localDateTime,callback:function(t){e.localDateTime=t},expression:"localDateTime"}})},i=[],r=(s("d3b7"),s("5a0c")),a={components:{flatPickr:function(){return s.e("devise-flatpickr").then(s.t.bind(null,"c38f",7))}},props:{value:{required:!0},settings:{type:Object,default:function(){return{date:!0,time:!0}}},placeholder:{type:String,default:"Please select from the calendar"}},data:function(){return{config:{noCalendar:!this.settings.date,enableTime:this.settings.time,onChange:this.updateValue}}},computed:{localDateTime:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.$emit("change",e)}}},methods:{updateValue:function(e){e=this.formatValue(e),this.localDateTime=e},formatValue:function(e){return this.settings.format?r(e).format(this.settings.format):this.settings.date&&this.settings.time?r(e).format("YYYY-MM-DD HH:mm:ss"):this.settings.date&&!this.settings.time?r(e).format("YYYY-MM-DD"):!this.settings.date&&this.settings.time?r(e).format("HH:mm:ss"):null}}},c=a,o=s("2877"),l=Object(o["a"])(c,n,i,!1,null,null,null);t["default"]=l.exports},f234:function(e,t,s){"use strict";var n="%[a-f0-9]{2}",i=new RegExp(n,"gi"),r=new RegExp("("+n+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var s=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(s),a(n))}function c(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),s=1;s<t.length;s++)e=a(t,s).join(""),t=e.match(i);return e}}function o(e){var t={"%FE%FF":"��","%FF%FE":"��"},s=r.exec(e);while(s){try{t[s[0]]=decodeURIComponent(s[0])}catch(l){var n=c(s[0]);n!==s[0]&&(t[s[0]]=n)}s=r.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var o=i[a];e=e.replace(new RegExp(o,"g"),t[o])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return o(e)}}},f32c:function(e,t,s){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const s=e.indexOf(t);return-1===s?[e]:[e.slice(0,s),e.slice(s+t.length)]}}}]);
//# sourceMappingURL=devise-pages.31e64682.js.map