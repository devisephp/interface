{"version":3,"file":"js/devise-media-selector-legacy.72c98e81.js","mappings":"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","sources":["webpack://devisephp-interface/./src/components/media-manager/media-selector/Files.vue?3b1b","webpack://devisephp-interface/src/components/media-manager/media-selector/Files.vue","webpack://devisephp-interface/./src/components/media-manager/media-selector/Files.vue?0659","webpack://devisephp-interface/./src/components/media-manager/media-selector/Files.vue","webpack://devisephp-interface/./src/components/media-manager/media-selector/OpenMediaFile.vue?915f","webpack://devisephp-interface/src/components/media-manager/media-selector/OpenMediaFile.vue","webpack://devisephp-interface/./src/components/media-manager/media-selector/OpenMediaFile.vue?4114","webpack://devisephp-interface/./src/components/media-manager/media-selector/OpenMediaFile.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"dvs-items-start dvs-justify-center grid\",class:{\n    'lg:dvs-grid-cols-2  xl:dvs-grid-cols-3 dvs-gap-8': _vm.mode === 'thumbnails',\n    'dvs-grid-cols-2 md:dvs-grid-cols-4 lg:dvs-grid-cols-6 xl:dvs-grid-cols-8 2xl:dvs-grid-cols-12 dvs-gap-6':\n      _vm.mode === 'contactSheet',\n    'lg:dvs-grid-cols-2 dvs-gap-6': _vm.mode === 'list',\n  }},_vm._l((_vm.currentFiles),function(file){return _c('li',{key:file.id,staticClass:\"dvs-relative dvs-bg-white dvs-h-full dvs-w-full\",class:{\n      'dvs-cursor-pointer': !file.on,\n      'dvs-w-full': _vm.mode === 'list',\n    },on:{\"click\":function($event){return _vm.openFile(file)}}},[_c('div',{staticClass:\"dvs-overflow-hidden dvs-w-full dvs-h-full dvs-rounded\"},[(_vm.mode === 'contactSheet')?_c('div',[_c('div',{staticClass:\"dvs-overflow-hidden dvs-rounded dvs-h-full dvs-w-full\"},[_c('img',{staticClass:\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\",staticStyle:{\"min-width\":\"100px\",\"height\":\"100px\"},attrs:{\"src\":(\"/styled/preview/\" + (file.url) + \"?w=200&h=200&fit=crop\")}})])]):(_vm.mode === 'thumbnails')?_c('img',{staticClass:\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\",attrs:{\"src\":(\"\" + (\"/styled/preview/\" + (file.url) + \"?w=300&h=300&q=100&sharp=2\"))}}):_c('div',{staticClass:\"dvs-flex dvs-items-center dvs-mt-6\"},[_c('div',{staticClass:\"dvs-overflow-hidden dvs-rounded dvs-w-1/3\",staticStyle:{\"height\":\"100px\"}},[_c('img',{staticClass:\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\",attrs:{\"src\":(\"/styled/preview/\" + (file.url) + \"?w=100&h=100\")}})]),_c('div',{staticClass:\"dvs-px-4 dvs-font-bold dvs-w-1/2\"},[_vm._v(_vm._s(file.name))])])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- Files -->\n  <ul\n    class=\"dvs-items-start dvs-justify-center grid\"\n    :class=\"{\n      'lg:dvs-grid-cols-2  xl:dvs-grid-cols-3 dvs-gap-8': mode === 'thumbnails',\n      'dvs-grid-cols-2 md:dvs-grid-cols-4 lg:dvs-grid-cols-6 xl:dvs-grid-cols-8 2xl:dvs-grid-cols-12 dvs-gap-6':\n        mode === 'contactSheet',\n      'lg:dvs-grid-cols-2 dvs-gap-6': mode === 'list',\n    }\"\n  >\n    <li\n      v-for=\"file in currentFiles\"\n      :key=\"file.id\"\n      class=\"dvs-relative dvs-bg-white dvs-h-full dvs-w-full\"\n      :class=\"{\n        'dvs-cursor-pointer': !file.on,\n        'dvs-w-full': mode === 'list',\n      }\"\n      @click=\"openFile(file)\"\n    >\n      <!-- Closed File -->\n      <div class=\"dvs-overflow-hidden dvs-w-full dvs-h-full dvs-rounded\">\n        <!-- Contact Sheet -->\n        <div v-if=\"mode === 'contactSheet'\">\n          <div class=\"dvs-overflow-hidden dvs-rounded dvs-h-full dvs-w-full\">\n            <img\n              :src=\"`/styled/preview/${file.url}?w=200&h=200&fit=crop`\"\n              style=\"min-width: 100px; height: 100px\"\n              class=\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\"\n            />\n          </div>\n        </div>\n\n        <!-- Thumbnails Mode -->\n        <img\n          v-else-if=\"mode === 'thumbnails'\"\n          :src=\"`${`/styled/preview/${file.url}?w=300&h=300&q=100&sharp=2`}`\"\n          class=\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\"\n        />\n\n        <!-- List Mode -->\n        <div v-else class=\"dvs-flex dvs-items-center dvs-mt-6\">\n          <div class=\"dvs-overflow-hidden dvs-rounded dvs-w-1/3\" style=\"height: 100px\">\n            <img\n              :src=\"`/styled/preview/${file.url}?w=100&h=100`\"\n              class=\"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full\"\n            />\n          </div>\n          <div class=\"dvs-px-4 dvs-font-bold dvs-w-1/2\">{{ file.name }}</div>\n        </div>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'DeviseMediaSelectorFiles',\n  props: {\n    currentFiles: {\n      // eslint-disable-next-line vue/require-prop-type-constructor\n      type: Object | Array,\n      required: true,\n    },\n    mode: {\n      type: String,\n      required: true,\n    },\n  },\n  methods: {\n    openFile(file) {\n      this.$emit('openFile', file);\n    },\n    selectSourceFile(file) {\n      this.$emit('selectedfile', file);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=3469eca2&scoped=true&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3469eca2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"name\":\"fast-fade\"}},[(_vm.localFile)?_c('div',{staticClass:\"dvs-flex dvs-p-4 dvs-overflow-hidden dvs-fixed dvs-absolute-center dvs-z-50 dvs-bg-white dvs-rounded dvs-shadow-lg\"},[_c('div',{staticClass:\"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeFile(_vm.localFile)}}},[_c('close-icon',{attrs:{\"w\":\"30\",\"h\":\"30\"}})],1),_c('div',{staticClass:\"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between\"},[_c('div',[_c('transition',{attrs:{\"name\":\"dvs-fade\",\"mode\":\"out-in\"}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.localFile.loaded),expression:\"localFile.loaded\"}],staticClass:\"dvs-cursor-pointer dvs-mb-4\",attrs:{\"src\":(\"/styled/preview/\" + (_vm.localFile.url) + \"?w=500&h=500\")},on:{\"load\":_vm.imageLoaded}})]),(!_vm.localFile.loaded)?_c('loading-screen',{key:\"loadingscreen\",attrs:{\"inline\":true,\"inline-message\":\"Loading Large Preview\"}}):_vm._e()],1),_c('div',{staticClass:\"dvs-flex dvs-justify-between\"},[_c('div',{staticClass:\"dvs-flex\"},[_c('div',{directives:[{name:\"devise-alert-confirm\",rawName:\"v-devise-alert-confirm\",value:({\n                callback: _vm.confirmedDeleteFile,\n                arguments: _vm.localFile,\n                message: 'Are you sure you want to delete this media?',\n              }),expression:\"{\\n                callback: confirmedDeleteFile,\\n                arguments: localFile,\\n                message: 'Are you sure you want to delete this media?',\\n              }\"}],staticClass:\"dvs-mr-4 dvs-cursor-pointer dvs-text-gray-800\"},[_c('trash-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1),_c('a',{staticClass:\"dvs-mr-4 dvs-text-gray-800\",attrs:{\"href\":(\"/styled/preview/\" + (_vm.localFile.url)),\"target\":\"_blank\"}},[_c('link-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1),_c('a',{staticClass:\"dvs-text-gray-800\",attrs:{\"href\":(\"/styled/preview/\" + (_vm.localFile.url)),\"target\":\"_blank\",\"download\":\"\"}},[_c('download-icon',{attrs:{\"h\":\"20\",\"w\":\"20\"}})],1)]),_c('div',{staticClass:\"dvs-text-gray-600 dvs-text-sm dvs-uppercase dvs-font-bold\"},[_vm._v(\" \"+_vm._s(_vm.width)+\" x \"+_vm._s(_vm.height)+\" \")])])]),_c('div',{staticClass:\"dvs-w-1/2\"},[_c('h6',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"Filename\")]),_c('p',{staticClass:\"dvs-text-sm\"},[_vm._v(_vm._s(_vm.localFile.name))]),_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"URL\")]),_c('input',{staticClass:\"w-full\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":_vm.localFile.url}})]),_c('fieldset',{staticClass:\"dvs-fieldset dvs-mb-4\"},[_c('label',{staticClass:\"dvs-text-xs dvs-uppercase dvs-mb-1\"},[_vm._v(\"Global Caption\")]),_c('div',{staticClass:\"dvs-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localFile.alt),expression:\"localFile.alt\"}],staticClass:\"dvs-mr-4\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.localFile.alt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.localFile, \"alt\", $event.target.value)}}}),_c('button',{staticClass:\"dvs-btn dvs-btn-sm dvs-btn-primary\",on:{\"click\":function($event){return _vm.requestSaveCaption(_vm.localFile)}}},[_vm._v(\" Save Caption \")])])]),_c('p',[_c('button',{staticClass:\"dvs-btn dvs-btn-sm dvs-btn-primary\",on:{\"click\":function($event){return _vm.selectSourceFile(_vm.localFile)}}},[_vm._v(\" Select \")])]),(_vm.isActive(_vm.localFile))?[_c('h6',{staticClass:\"dvs-my-2 dvs-text-sm\"},[_vm._v(\"Appears On\")]),_c('ul',_vm._l((_vm.localFile.fields),function(field){return _c('li',{key:field.id,staticClass:\"dvs-py-2\"},[_c('a',{staticClass:\"dvs-btn dvs-btn-sm\",attrs:{\"href\":field.page_slug,\"target\":\"_blank\"}},[_vm._v(_vm._s(field.page_title)+\" - \"+_vm._s(field.field_name))])])}),0)]:_vm._e()],2)]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <transition name=\"fast-fade\">\n      <div\n        v-if=\"localFile\"\n        class=\"dvs-flex dvs-p-4 dvs-overflow-hidden dvs-fixed dvs-absolute-center dvs-z-50 dvs-bg-white dvs-rounded dvs-shadow-lg\"\n      >\n        <div\n          class=\"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer\"\n          @click.stop.prevent=\"closeFile(localFile)\"\n        >\n          <close-icon w=\"30\" h=\"30\" />\n        </div>\n\n        <div class=\"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between\">\n          <div>\n            <transition name=\"dvs-fade\" mode=\"out-in\">\n              <img\n                v-show=\"localFile.loaded\"\n                :src=\"`/styled/preview/${localFile.url}?w=500&h=500`\"\n                class=\"dvs-cursor-pointer dvs-mb-4\"\n                @load=\"imageLoaded\"\n              />\n            </transition>\n\n            <loading-screen\n              v-if=\"!localFile.loaded\"\n              key=\"loadingscreen\"\n              :inline=\"true\"\n              inline-message=\"Loading Large Preview\"\n            ></loading-screen>\n          </div>\n\n          <div class=\"dvs-flex dvs-justify-between\">\n            <div class=\"dvs-flex\">\n              <div\n                v-devise-alert-confirm=\"{\n                  callback: confirmedDeleteFile,\n                  arguments: localFile,\n                  message: 'Are you sure you want to delete this media?',\n                }\"\n                class=\"dvs-mr-4 dvs-cursor-pointer dvs-text-gray-800\"\n              >\n                <trash-icon h=\"20\" w=\"20\" />\n              </div>\n              <a\n                class=\"dvs-mr-4 dvs-text-gray-800\"\n                :href=\"`/styled/preview/${localFile.url}`\"\n                target=\"_blank\"\n              >\n                <link-icon h=\"20\" w=\"20\" />\n              </a>\n              <a\n                :href=\"`/styled/preview/${localFile.url}`\"\n                target=\"_blank\"\n                class=\"dvs-text-gray-800\"\n                download\n              >\n                <download-icon h=\"20\" w=\"20\" />\n              </a>\n            </div>\n\n            <div class=\"dvs-text-gray-600 dvs-text-sm dvs-uppercase dvs-font-bold\">\n              {{ width }} x {{ height }}\n            </div>\n          </div>\n        </div>\n        <div class=\"dvs-w-1/2\">\n          <h6 class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">Filename</h6>\n          <p class=\"dvs-text-sm\">{{ localFile.name }}</p>\n\n          <fieldset class=\"dvs-fieldset dvs-mb-4\">\n            <label class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">URL</label>\n            <input type=\"text\" class=\"w-full\" :value=\"localFile.url\" readonly />\n          </fieldset>\n\n          <fieldset class=\"dvs-fieldset dvs-mb-4\">\n            <label class=\"dvs-text-xs dvs-uppercase dvs-mb-1\">Global Caption</label>\n            <div class=\"dvs-flex\">\n              <input v-model=\"localFile.alt\" type=\"text\" class=\"dvs-mr-4\" />\n              <button\n                class=\"dvs-btn dvs-btn-sm dvs-btn-primary\"\n                @click=\"requestSaveCaption(localFile)\"\n              >\n                Save Caption\n              </button>\n            </div>\n          </fieldset>\n\n          <p>\n            <button\n              class=\"dvs-btn dvs-btn-sm dvs-btn-primary\"\n              @click=\"selectSourceFile(localFile)\"\n            >\n              Select\n            </button>\n          </p>\n\n          <template v-if=\"isActive(localFile)\">\n            <h6 class=\"dvs-my-2 dvs-text-sm\">Appears On</h6>\n            <ul>\n              <li v-for=\"field in localFile.fields\" :key=\"field.id\" class=\"dvs-py-2\">\n                <a :href=\"field.page_slug\" target=\"_blank\" class=\"dvs-btn dvs-btn-sm\"\n                  >{{ field.page_title }} - {{ field.field_name }}</a\n                >\n              </li>\n            </ul>\n          </template>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  name: 'DeviseOpenMediaFile',\n  components: {\n    LoadingScreen: () =>\n      import(/* webpackChunkName: \"devise-utilities\" */ '../../utilities/LoadingScreen.vue'),\n    TrashIcon: () =>\n      import(/* webpackChunkName: \"devise-icons\" */ 'vue-feather-icons/icons/TrashIcon'),\n    CloseIcon: () =>\n      import(/* webpackChunkName: \"devise-icons\" */ 'vue-feather-icons/icons/XIcon'),\n    LinkIcon: () =>\n      import(/* webpackChunkName: \"devise-icons\" */ 'vue-feather-icons/icons/LinkIcon'),\n    DownloadIcon: () =>\n      import(/* webpackChunkName: \"devise-icons\" */ 'vue-feather-icons/icons/DownloadCloudIcon'),\n  },\n\n  props: {\n    value: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      width: 0,\n      height: 0,\n    };\n  },\n\n  computed: {\n    localFile: {\n      get() {\n        return this.value;\n      },\n      set(file) {\n        this.$emit('input', file);\n      },\n    },\n  },\n\n  methods: {\n    ...mapActions('devise', ['saveCaption', 'deleteFile']),\n    selectSourceFile(file) {\n      this.$emit('selectSourceFile', file);\n    },\n    requestSaveCaption(file) {\n      const payload = {\n        image: file.url,\n        alt_text: file.alt,\n      };\n      this.saveCaption(payload);\n    },\n    confirmedDeleteFile(file) {\n      this.deleteFile(file).then(() => {\n        this.$emit('fileDeleted');\n      });\n    },\n    closeFile() {\n      this.$emit('close');\n    },\n    isActive(file) {\n      return file.used_count > 0;\n    },\n\n    imageLoaded() {\n      this.localFile.loaded = true;\n      this.calculateImageSize();\n    },\n\n    calculateImageSize() {\n      const img = new Image();\n      img.src = `/styled/preview/${this.localFile.url}`;\n      img.onload = () => {\n        this.width = img.width;\n        this.height = img.height;\n      };\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OpenMediaFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OpenMediaFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpenMediaFile.vue?vue&type=template&id=2ccad2f8&\"\nimport script from \"./OpenMediaFile.vue?vue&type=script&lang=js&\"\nexport * from \"./OpenMediaFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","mode","_l","file","key","id","on","$event","openFile","staticStyle","attrs","_v","_s","name","staticRenderFns","props","currentFiles","type","Object","Array","required","String","methods","$emit","selectSourceFile","component","stopPropagation","preventDefault","closeFile","localFile","directives","rawName","value","expression","imageLoaded","loaded","_e","callback","confirmedDeleteFile","arguments","message","width","height","domProps","url","target","composing","$set","requestSaveCaption","isActive","field","page_slug","page_title","field_name","components","LoadingScreen","TrashIcon","CloseIcon","LinkIcon","DownloadIcon","default","data","computed","get","set","mapActions","image","alt_text","alt","saveCaption","payload","deleteFile","then","used_count","calculateImageSize","img","src","onload"],"sourceRoot":""}