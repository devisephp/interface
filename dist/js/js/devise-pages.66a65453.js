(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["js/devise-pages"],{"0842":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"dvs-flex",attrs:{id:"devise-admin-content"}},[s("action-bar",[s("li",{staticClass:"dvs-btn dvs-btn-sm dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return e.goToPage("devise-pages-create")}}},[e._v("Create New Page")])]),s("div",{staticClass:"dvs-w-2/5 dvs-border-r dvs--my-10 dvs--ml-10 dvs-mr-8 dvs-p-8",style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background}},[s("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("Search Pages")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.searchTerm,expression:"searchTerm",modifiers:{lazy:!0}},{name:"debounce",rawName:"v-debounce",value:e.searchDelay,expression:"searchDelay"}],staticClass:"dvs-mb-4",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{change:function(t){e.searchTerm=t.target.value}}}),s("div",{staticClass:"dvs-relative"},[s("ul",{staticClass:"dvs-list-reset dvs-bg-white dvs-text-black dvs-absolute dvs-shadow-lg"},e._l(e.autosuggest.data,function(t,a){return s("li",{key:a,staticClass:"dvs-border-b dvs-border-grey-lighter dvs-p-4 dvs-cursor-pointer dvs-text-sm hover:dvs-bg-grey-lighter",on:{click:function(t){return e.loadPage(a)}}},[e._v(e._s(t))])}),0)])])]),s("div",{style:{color:e.theme.panel.color}},[s("h2",{staticClass:"dvs-mb-10",style:{color:e.theme.panel.color}},[e._v("Current Site Pages")]),e._l(e.pages.data,function(t){return s("div",{key:t.id,staticClass:"dvs-mb-6 dvs-flex dvs-justify-between dvs-items-center"},[s("div",{staticClass:"dvs-min-w-2/5 dvs-font-light dvs-pr-8"},[e._v(e._s(t.title))]),s("div",{staticClass:"dvs-min-w-1/5 dvs-text-xs dvs-px-8 dvs-font-mono"},[e._v(e._s(t.slug))]),s("div",{staticClass:"dvs-w-2/5 dvs-px-8 dvs-flex dvs-justify-end"},[s("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",style:e.theme.actionButtonGhost,on:{click:function(s){return e.loadPage(t.id)}}},[e._v("Manage")]),s("a",{staticClass:"dvs-btn dvs-btn-xs",style:e.theme.actionButtonGhost,attrs:{href:e.getSlug(t)}},[e._v("Go")])])])}),e.pages.data&&e.pages.data.length?s("pagination",{staticClass:"mb-8",attrs:{meta:e.pages.meta},on:{changePage:e.changePage}}):e._e()],2)],1)])},i=[],n=s("5176"),l=s.n(n),o=s("cebc"),r=s("492a"),d=s.n(r),c=s("2f62"),u=s("2955"),v={name:"PagesIndex",data:function(){return{modulesToLoad:3,filters:{page:"1"},showCreate:!1,searchDelay:1e3,searchTerm:"",autosuggest:{data:[]},newPage:{layout:null,language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){this.retrieveAllPages(),this.retrieveAllLanguages()},methods:Object(o["a"])({},Object(c["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){e.newPage.template_id=null,e.newPage.language_id=null,e.newPage.title=null,e.newPage.slug=null,e.newPage.published=!1,e.showCreate=!1})},retrieveAllPages:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getPages(this.filters).then(function(){t&&window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})},requestSearch:function(e){var t=this;""!==e?this.searchPages(e).then(function(s){t.autosuggest=s,s.data.length<1&&window.deviseSettings.$bus.$emit("showMessage",{title:"No Suggestions Found",message:"We couldn't find any pages with the term: \"".concat(e,'".')})}):this.autosuggest=l()({},{})},changePage:function(e){this.filters.page=e,this.retrieveAllPages(!1)},getSlug:function(e){return e.is_live?e.slug:!!e.versions&&"".concat(e.slug,"?version_id=").concat(e.versions[0].id)}}),watch:{searchTerm:function(e){this.requestSearch(e)}},computed:Object(o["a"])({},Object(c["c"])("devise",["pages","languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug}}),components:{ActionBar:function(){return Promise.all([s.e("js/devise-editors~js/devise-utilities"),s.e("js/devise-utilities")]).then(s.bind(null,"f8ec"))},Pagination:function(){return s.e("js/devise-tables").then(s.bind(null,"dbce"))}},directives:{debounce:d.a},mixins:[u["a"]]},g=v,p=s("2877"),h=Object(p["a"])(g,a,i,!1,null,null,null);t["default"]=h.exports},"290a":function(e,t,s){"use strict";const a=60,i=60*a,n=24*i,l=7*n,o=1e3,r=a*o,d=i*o,c=n*o,u=l*o,v="millisecond",g="second",p="minute",h="hour",m="day",f="week",b="month",y="quarter",w="year",_="date",C="YYYY-MM-DDTHH:mm:ssZ",P="Invalid Date",$=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,k=/\[.*?\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},x=(e,t,s)=>{const a=String(e);return!a||a.length>=t?e:`${Array(t+1-a.length).join(s)}${e}`},T=e=>{const t=Math.abs(e),s=Math.floor(t/60),a=t%60;return`${e<=0?"+":"-"}${x(s,2,"0")}:${x(a,2,"0")}`},M=(e,t)=>{const s=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(s,"months"),i=t-a<0,n=e.clone().add(s+(i?-1:1),"months");return Number(-(s+(t-a)/(i?a-n:n-a))||0)},D=e=>e<0?Math.ceil(e)||0:Math.floor(e),V=e=>{const t={M:b,y:w,w:f,d:m,h:h,m:p,s:g,ms:v};return t[e]||String(e||"").toLowerCase().replace(/s$/,"")},j=e=>void 0===e;var A={padStart:x,padZoneStr:T,monthDiff:M,absFloor:D,prettyUnit:V,isUndefined:j};let O="en";const L={};L[O]=S;const N=e=>e instanceof R,B=(e,t,s)=>{let a;if(!e)return null;if("string"===typeof e)L[e]&&(a=e),t&&(L[e]=t,a=e);else{const{name:t}=e;L[t]=e,a=t}return s||(O=a),a},q=(e,t)=>{if(N(e))return e.clone();const s=t?"string"===typeof t?{format:t}:t:{};return s.date=e,new R(s)},E=(e,t)=>q(e,{locale:t.$L}),H=A;H.parseLocale=B,H.isDayjs=N,H.wrapper=E;const I=e=>{let t;return null===e?new Date(NaN):H.isUndefined(e)?new Date:e instanceof Date?e:"string"===typeof e&&/.*[^Z]$/i.test(e)&&(t=e.match($))?new Date(t[1],t[2]-1,t[3]||1,t[4]||0,t[5]||0,t[6]||0,t[7]||0):new Date(e)};class R{constructor(e){this.parse(e)}parse(e){this.$d=I(e.date),this.init(e)}init(e){const{$d:t}=this;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds(),this.$L=this.$L||B(e.locale,null,!0)||O}$utils(){return H}isValid(){return!(this.$d.toString()===P)}isSame(e,t){const s=q(e);return this.startOf(t)<=s&&s<=this.endOf(t)}isAfter(e,t){return q(e)<this.startOf(t)}isBefore(e,t){return this.endOf(t)<q(e)}year(){return this.$y}month(){return this.$M}day(){return this.$W}date(){return this.$D}hour(){return this.$H}minute(){return this.$m}second(){return this.$s}millisecond(){return this.$ms}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}startOf(e,t){const s=!!H.isUndefined(t)||t,a=H.prettyUnit(e),i=(e,t)=>{const a=E(new Date(this.$y,t,e),this);return s?a:a.endOf(m)},n=(e,t)=>{const a=[0,0,0,0],i=[23,59,59,999];return E(this.toDate()[e].apply(this.toDate(),(s?a:i).slice(t)),this)};switch(a){case w:return s?i(1,0):i(31,11);case b:return s?i(1,this.$M):i(0,this.$M+1);case f:{const e=this.$locale().weekStart||0;return i(s?this.$D-(this.$W-e):this.$D+(6-(this.$W-e)),this.$M)}case m:case _:return n("setHours",0);case h:return n("setMinutes",1);case p:return n("setSeconds",2);case g:return n("setMilliseconds",3);default:return this.clone()}}endOf(e){return this.startOf(e,!1)}$set(e,t){const s=H.prettyUnit(e),a={[m]:"setDate",[_]:"setDate",[b]:"setMonth",[w]:"setFullYear",[h]:"setHours",[p]:"setMinutes",[g]:"setSeconds",[v]:"setMilliseconds"}[s],i=s===m?this.$D+(t-this.$W):t;return this.$d[a]&&this.$d[a](i),this.init(),this}set(e,t){return this.clone().$set(e,t)}add(e,t){e=Number(e);const s=H.prettyUnit(t),a=(t,s)=>{const a=this.set(_,1).set(t,s+e);return a.set(_,Math.min(this.$D,a.daysInMonth()))},i=t=>{const s=new Date(this.$d);return s.setDate(s.getDate()+t*e),E(s,this)};if(s===b)return a(b,this.$M);if(s===w)return a(w,this.$y);if(s===m)return i(1);if(s===f)return i(7);const n={[p]:r,[h]:d,[g]:o}[s]||1,l=this.valueOf()+e*n;return E(l,this)}subtract(e,t){return this.add(-1*e,t)}format(e){if(!this.isValid())return P;const t=e||C,s=H.padZoneStr(this.$d.getTimezoneOffset()),a=this.$locale(),{weekdays:i,months:n}=a,l=(e,t,s,a)=>e&&e[t]||s[t].substr(0,a),o=e=>{return 0===this.$H?12:H.padStart(this.$H<13?this.$H:this.$H-12,"hh"===e?2:1,"0")},r={YY:String(this.$y).slice(-2),YYYY:String(this.$y),M:String(this.$M+1),MM:H.padStart(this.$M+1,2,"0"),MMM:l(a.monthsShort,this.$M,n,3),MMMM:n[this.$M],D:String(this.$D),DD:H.padStart(this.$D,2,"0"),d:String(this.$W),dd:l(a.weekdaysMin,this.$W,i,2),ddd:l(a.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(this.$H),HH:H.padStart(this.$H,2,"0"),h:o("h"),hh:o("hh"),a:this.$H<12?"am":"pm",A:this.$H<12?"AM":"PM",m:String(this.$m),mm:H.padStart(this.$m,2,"0"),s:String(this.$s),ss:H.padStart(this.$s,2,"0"),SSS:H.padStart(this.$ms,3,"0"),Z:s};return t.replace(k,e=>{return e.indexOf("[")>-1?e.replace(/\[|\]/g,""):r[e]||s.replace(":","")})}utcOffset(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)}diff(e,t,s){const a=H.prettyUnit(t),i=q(e),n=(i.utcOffset()-this.utcOffset())*r,l=this-i;let v=H.monthDiff(this,i);return v={[w]:v/12,[b]:v,[y]:v/3,[f]:(l-n)/u,[m]:(l-n)/c,[h]:l/d,[p]:l/r,[g]:l/o}[a]||l,s?v:H.absFloor(v)}daysInMonth(){return this.endOf(b).$D}$locale(){return L[this.$L]}locale(e,t){const s=this.clone();return s.$L=B(e,t,!0),s}clone(){return E(this.toDate(),this)}toDate(){return new Date(this.$d)}toArray(){return[this.$y,this.$M,this.$D,this.$H,this.$m,this.$s,this.$ms]}toJSON(){return this.toISOString()}toISOString(){return this.$d.toISOString()}toObject(){return{years:this.$y,months:this.$M,date:this.$D,hours:this.$H,minutes:this.$m,seconds:this.$s,milliseconds:this.$ms}}toString(){return this.$d.toUTCString()}}q.prototype=R.prototype,q.extend=((e,t)=>{return e(t,R,q),q}),q.locale=B,q.isDayjs=N,q.unix=(e=>q(1e3*e)),q.en=L[O];t["a"]=q},2955:function(e,t,s){"use strict";t["a"]={methods:{historyBack:function(){this.$router.go(-1)}}}},"2e31":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-p-8"},[s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Page Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editPage.title,expression:"editPage.title"}],staticClass:"dvs-small",attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.editPage.title},on:{input:function(t){t.target.composing||e.$set(e.editPage,"title",t.target.value)}}})]),s("button",{staticClass:"dvs-btn dvs-block dvs-w-full dvs-mb-2",style:e.theme.actionButton,on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e._v("Save Page")]),s("router-link",{staticClass:"dvs-btn dvs-block",style:e.theme.actionButtonGhost,attrs:{to:{name:"devise-pages-view",params:{pageId:e.page.id}}}},[e._v("All Settings")])],1)},i=[],n=s("cebc"),l=s("2f62"),o={name:"PageSettings",data:function(){return{pageSlices:[],pageSettingsOpen:!1,pageContentOpen:!0}},mounted:function(){this.pageSlices=this.page.slices},methods:Object(n["a"])({},Object(l["b"])("devise",["savePage"]),{requestSavePage:function(){this.savePage(this.page)},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.pageSlices.map(function(e){return t.closeSlice(e)}),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)}}),computed:Object(n["a"])({},Object(l["c"])("devise",["sliceConfig","fieldConfig"]),{editPage:{get:function(){return this.page},set:function(e){this.$emit("updatePage",e)}}}),props:["page"]},r=o,d=s("2877"),c=Object(d["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},"492a":function(e,t,s){const a=s("b8f9");function i(e,t){t.value!==t.oldValue&&(e.oninput=i.debounce(function(t){e.dispatchEvent(n("change"))},parseInt(t.value)||800))}function n(e){if("function"===typeof Event)var t=new Event(e);else{t=document.createEvent("Event");t.initEvent(e,!0,!0)}return t}i.debounce=a,e.exports=i},"4cae":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.localValue.id?s("div",{attrs:{id:"devise-admin-content"}},[s("div",{style:{borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background},attrs:{id:"dvs-admin-sidebar"}},[s("scrollactive",{attrs:{offset:80,duration:800,"bezier-easing-value":".5,0,.35,1","scroll-container-selector":"#dvs-admin-content-container .simplebar-scroll-content",id:"dvs-menu"}},[s("button",{staticClass:"dvs-btn dvs-btn-zero dvs-btn-text dvs-mb-8",style:{color:e.theme.actionButtonGhost.color},on:{click:e.historyBack}},[e._v("Back")]),s("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Actions")]),s("ul",[s("li",{on:{click:function(t){return e.href(e.page.slug)}}},[e._v("Go To Page")]),s("li",{on:{click:function(t){return e.href(e.page.slug+"/#/devise/edit-page")}}},[e._v("Edit Page Content")]),s("li",{on:{click:function(t){e.showTranslate=!0}}},[e._v("Translate This Page")]),s("li",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeletePage,message:"Are you sure you want to delete this page?"},expression:"{callback: requestDeletePage, message: 'Are you sure you want to delete this page?'}"}]},[e._v("Delete This Page")])]),s("h6",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Sections")]),s("ul",{staticClass:"dvs-list-reset dvs-mb-10 dvs-text-sm dvs-font-thin"},[s("li",{staticClass:"dvs-mb-2"},[s("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#versions"}},[e._v("Versions of this Page")])]),s("li",{staticClass:"dvs-mb-2"},[s("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#settings"}},[e._v("Global Page Settings")])]),s("li",{staticClass:"dvs-mb-2"},[s("a",{staticClass:"scrollactive-item",style:{color:e.theme.panel.color},attrs:{href:"#meta-tags"}},[e._v("Meta Tags")])])])])],1),s("div",{staticStyle:{"padding-left":"250px"},attrs:{id:"dvs-admin-main"}},[s("h1",{staticClass:"dvs-mb-8 dvs-font-hairline",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title))]),e.analytics.data?[s("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color}},[e._v(e._s(e.localValue.title)+" Analytics")]),s("div",{staticClass:"flex dvs-mb-8"},[s("fieldset",{staticClass:"dvs-fieldset mr-8"},[s("label",[e._v("Analytics Start Date")]),s("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"Start Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.start,callback:function(t){e.$set(e.analyticsDateRange,"start",t)},expression:"analyticsDateRange.start"}})],1),s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[e._v("Analytics End Date")]),s("date-picker",{attrs:{settings:{date:!0,time:!1},placeholder:"End Date"},on:{update:function(t){return e.retrieveAnalytics()}},model:{value:e.analyticsDateRange.end,callback:function(t){e.$set(e.analyticsDateRange,"end",t)},expression:"analyticsDateRange.end"}})],1)]),e.mothershipApiKey?s("div",{staticClass:"dvs-mb-12"},[s("line-chart",{staticClass:"dvs-mb-8",attrs:{"chart-data":e.analytics.data,options:e.options,width:800,height:200}})],1):e._e()]:e._e(),s("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"versions"}},[e._v(e._s(e.localValue.title)+" Page Versions")]),s("help",{staticClass:"dvs-mb-8"},[e._v("Page versions allow your team to create alternate versions of a page for devlopment, historical purposes, and for A/B testing which allow you to run two pages at once to test user success rates")]),s("div",{staticClass:"dvs-mb-16"},e._l(e.localValue.versions,function(t,a){return s("div",{key:a,staticClass:"dvs-flex-grow dvs-rounded-sm dvs-shadow-sm dvs-mb-4"},[s("div",{staticClass:"dvs-text-xl dvs-font-bold dvs-mb-4 dvs-flex dvs-justify-between"},[s("div",{staticClass:"dvs-cursor-pointer dvs-flex",on:{click:function(s){return e.toggleVersionSettings(t)}}},[t.editName?e._e():[s("div",{staticClass:"dvs-mr-2"},[s("edit-icon",{attrs:{w:"25",h:"25"}})],1),s("div",[e._v("\n                  "+e._s(t.name)+"\n                  "),t.is_live?[e._v("(Currently Live)")]:e._e()],2)]],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSettings,expression:"version.showSettings"}],staticClass:"dvs-mb-16"},[s("div",[s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("Version Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[a].name,expression:"localValue.versions[key].name"}],attrs:{type:"text"},domProps:{value:e.localValue.versions[a].name},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[a],"name",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("Layout")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.localValue.versions[a].layout,expression:"localValue.versions[key].layout"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localValue.versions[a],"layout",t.target.multiple?s:s[0])}}},e._l(e.layouts,function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("Start Date")]),s("date-picker",{directives:[{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"}],attrs:{settings:{date:!0,time:!0},placeholder:"Start Date",title:"The date in which this version will begin appearing."},model:{value:e.localValue.versions[a].starts_at,callback:function(t){e.$set(e.localValue.versions[a],"starts_at",t)},expression:"localValue.versions[key].starts_at"}})],1),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("End Date")]),s("date-picker",{directives:[{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"}],attrs:{settings:{date:!0,time:!0},placeholder:"End Date",title:"The date when this page version will stop appearing. This page will either fall back to another page version or produce a 404: Page Not Found if a user attempts to load it."},model:{value:e.localValue.versions[a].ends_at,callback:function(t){e.$set(e.localValue.versions[a],"ends_at",t)},expression:"localValue.versions[key].ends_at"}})],1),e.localValue.ab_testing_enabled?s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("A/B Testing Amount")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localValue.versions[a].ab_testing_amount,expression:"localValue.versions[key].ab_testing_amount",modifiers:{number:!0}},{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"}],attrs:{type:"number",title:"This is the weight in which a page will show up. The number can be any number you want and is divided by the total weights of all other page versions."},domProps:{value:e.localValue.versions[a].ab_testing_amount},on:{input:function(t){t.target.composing||e.$set(e.localValue.versions[a],"ab_testing_amount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e()]),s("div",{staticClass:"dvs-flex dvs-justify-start"},[s("button",{directives:[{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButton,attrs:{title:"Save Version Settings"},on:{click:function(s){return e.requestSaveVersion(t)}}},[s("checkmark-icon",{attrs:{w:"30",h:"30"}})],1),s("button",{directives:[{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"}],staticClass:"dvs-btn dvs-mr-4 dvs-px-8",style:e.theme.actionButtonGhost,attrs:{title:"Copy Version"},on:{click:function(s){return e.requestCopyVersion(t)}}},[s("copy-icon",{attrs:{w:"30",h:"30"}})],1),s("button",{directives:[{name:"tippy",rawName:"v-tippy",value:e.tippyConfiguration,expression:"tippyConfiguration"},{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeleteVersion,arguments:t,message:"Are you sure you want to delete this version?"},expression:"{callback: requestDeleteVersion, arguments:version, message: 'Are you sure you want to delete this version?'}"}],staticClass:"dvs-btn dvs-mr-2 dvs-px-8",style:e.theme.actionButtonGhost},[s("trash-icon",{attrs:{w:"30",h:"30"}})],1)])])])}),0),s("h3",{staticClass:"dvs-mb-8 dvs-pr-16",style:{color:e.theme.panel.color},attrs:{id:"settings"}},[e._v("Global Page Settings")]),s("help",{staticClass:"dvs-mb-8"},[e._v("These settings effect all of the page versions of this page.")]),s("div",{staticClass:"dvs-mb-12"},[s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.title,expression:"localValue.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.localValue.title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"title",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Slug")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.slug,expression:"localValue.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.localValue.slug},on:{input:function(t){t.target.composing||e.$set(e.localValue,"slug",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Meta Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.meta_title,expression:"localValue.meta_title"}],attrs:{type:"text",placeholder:"Meta title of the Page"},domProps:{value:e.localValue.meta_title},on:{input:function(t){t.target.composing||e.$set(e.localValue,"meta_title",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("Canonical")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.canonical,expression:"localValue.canonical"}],attrs:{type:"text",placeholder:"Canonical"},domProps:{value:e.localValue.canonical},on:{input:function(t){t.target.composing||e.$set(e.localValue,"canonical",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-8"},[s("label",[e._v("A/B Testing Enabled")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue.ab_testing_enabled,expression:"localValue.ab_testing_enabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.localValue.ab_testing_enabled)?e._i(e.localValue.ab_testing_enabled,null)>-1:e.localValue.ab_testing_enabled},on:{change:function(t){var s=e.localValue.ab_testing_enabled,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,l=e._i(s,n);a.checked?l<0&&e.$set(e.localValue,"ab_testing_enabled",s.concat([n])):l>-1&&e.$set(e.localValue,"ab_testing_enabled",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.localValue,"ab_testing_enabled",i)}}})]),s("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color},attrs:{id:"meta-tags"}},[e._v("Page Specific Meta Tags")]),s("fieldset",{staticClass:"dvs-fieldset"},[s("meta-form",{attrs:{"global-form":!1},on:{"request-create-meta":e.requestCreateMeta,"request-update-meta":e.requestUpdateMeta,"request-delete-meta":e.requestDeleteMeta},model:{value:e.localValue.meta,callback:function(t){e.$set(e.localValue,"meta",t)},expression:"localValue.meta"}})],1),s("div",{staticClass:"dvs-flex"},[s("button",{staticClass:"dvs-btn dvs-mr-2",style:e.theme.actionButton,on:{click:e.requestSavePage}},[e._v("Save")]),s("button",{staticClass:"dvs-btn dvs-mr-4",style:e.theme.actionButtonGhost,on:{click:e.goToPage}},[e._v("Cancel")])])])],2)]):e._e(),s("transition",{attrs:{name:"dvs-fade"}},[e.showCopy?s("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showCopy=!1}}},[s("h4",{staticClass:"dvs-mb-4"},[e._v("Copy this page")]),s("help",{staticClass:"dvs-mb-4"},[e._v("This will create a whole new page based on this page copying all settings and values associated with it.")]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Page Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.title,expression:"pageToCopy.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToCopy.title},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"title",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Slug")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToCopy.slug,expression:"pageToCopy.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToCopy.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToCopy,"slug",t.target.value)}}})]),s("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToCopy.title||null===e.pageToCopy.slug},on:{click:e.requestCopyPage}},[e._v("Create")]),s("button",{staticClass:"dvs-btn",on:{click:function(t){e.showCopy=!1}}},[e._v("Cancel")])],1):e._e()],1),s("transition",{attrs:{name:"dvs-fade"}},[e.showTranslate?s("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showTranslate=!1}}},[s("h4",{staticClass:"dvs-mb-4"},[e._v("Translate this page")]),s("help",{staticClass:"dvs-mb-4"},[e._v("This will create a translated page associated with this page. While the pages are connected to allow users to switch between translations they do have their own settings and versions.")]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Page Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.title,expression:"pageToTranslate.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.pageToTranslate.title},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"title",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Languages")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage,expression:"translateLanguage"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.translateLanguage=t.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.code))])})],2)]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Slug")]),s("div",{staticClass:"dvs-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.translateLanguage.code,expression:"translateLanguage.code"}],staticClass:"dvs-max-w-3xs",attrs:{type:"text",disabled:"disabled"},domProps:{value:e.translateLanguage.code},on:{input:function(t){t.target.composing||e.$set(e.translateLanguage,"code",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pageToTranslate.slug,expression:"pageToTranslate.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.pageToTranslate.slug},on:{input:function(t){t.target.composing||e.$set(e.pageToTranslate,"slug",t.target.value)}}})])]),s("button",{staticClass:"dvs-btn",attrs:{disabled:null===e.pageToTranslate.title||null===e.pageToTranslate.slug||null===e.translateLanguage},on:{click:e.requestTranslatePage}},[e._v("Translate")]),s("button",{staticClass:"dvs-btn",on:{click:function(t){e.showTranslate=!1}}},[e._v("Cancel")])],1):e._e()],1)],1)},i=[],n=s("5176"),l=s.n(n),o=s("cebc"),r=s("2f62"),d=s("2955"),c=s("6e12"),u={name:"PagesView",data:function(){return{analytics:{},analyticsDateRange:{start:null,end:null},localValue:{},modulesToLoad:2,showCopy:!1,showTranslate:!1,pageToCopy:{title:null,slug:null},translateLanguage:{},pageToTranslate:{title:null,slug:null,language_id:null},colors:[{background:"rgba(54, 162, 235, 0.5)",border:"rgba(54, 162, 235, 1)"},{background:"rgba(75, 192, 192, 0.2)",border:"rgba(75, 192, 192, 1)"},{background:"rgba(255, 206, 86, 0.2)",border:"rgba(255, 206, 86, 1)"},{background:"rgba(255, 99, 132, 0.2)",border:"rgba(255,99,132,1)"},{background:"rgba(153, 102, 255, 0.2)",border:"rgba(153, 102, 255, 1)"},{background:"rgba(255, 159, 64, 0.2)",border:"rgba(255, 159, 64, 1)"}]}},mounted:function(){this.retrievePage(),this.retrieveAllLanguages(),this.setDefaultAnalytics()},methods:Object(o["a"])({},Object(r["b"])("devise",["copyPage","copyPageVersion","deletePage","deletePageVersion","getPageAnalytics","getPage","getLanguages","translatePage","updatePage","updatePageVersion"]),{requestSavePage:function(){this.updatePage({data:this.localValue})},requestCopyPage:function(){var e=this;this.copyPage({data:this.pageToCopy}).then(function(){e.pageToCopy.title=null,e.pageToCopy.slug=null,e.showCopy=!1})},requestTranslatePage:function(){var e=this;this.pageToTranslate.language_id=this.translateLanguage.id,this.pageToTranslate.slug="/".concat(this.translateLanguage.code).concat(this.pageToTranslate.slug),this.translatePage({page:this.localValue,data:this.pageToTranslate}).then(function(){e.pageToTranslate.title=null,e.pageToTranslate.slug=null,e.pageToTranslate.language_id=null,e.showTranslate=!1})},requestSaveVersion:function(e){this.updatePageVersion({page:this.localValue,version:e})},requestCopyVersion:function(e){this.copyPageVersion({page:this.localValue,version:e})},requestDeleteVersion:function(e){this.deletePageVersion({page:this.localValue,version:e})},requestCreateMeta:function(e){this.localValue.meta.push(e)},requestUpdateMeta:function(e){e.edit=!1},requestDeleteMeta:function(e){this.localValue.meta.splice(this.localValue.meta.indexOf(e),1)},requestDeletePage:function(){var e=this;this.deletePage(this.localValue).then(function(){e.goToPage("devise-pages-index")})},retrievePage:function(){var e=this;this.getPage(this.$route.params.pageId).then(function(t){e.localValue=l()({},e.localValue,t.data.page),e.localValue.versions.map(function(t){e.$set(t,"editName",!1)}),e.pageToTranslate.slug=e.localValue.slug,window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad),e.retrieveAnalytics()})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setDefaultAnalytics:function(){var e=new Date,t=new Date;t.setDate(t.getDate()-7),this.analyticsDateRange.end=this.formatDate(e),this.analyticsDateRange.start=this.formatDate(t)},retrieveAnalytics:function(){var e=this;this.mothershipApiKey&&("string"!==typeof this.analyticsDateRange.start&&this.analyticsDateRange.start[0]&&(this.analyticsDateRange.start=this.formatDate(new Date(this.analyticsDateRange.start[0]))),"string"!==typeof this.analyticsDateRange.end&&this.analyticsDateRange.end[0]&&(this.analyticsDateRange.end=this.formatDate(new Date(this.analyticsDateRange.end[0]))),this.getPageAnalytics({slug:this.localValue.slug,dates:e.analyticsDateRange}).then(function(t){t.data.data.datasets.map(function(t,s){return t.backgroundColor=[e.colors[s].background],t.fontColor=e.theme.panel.color,t.borderColor=[e.colors[s].border],t.pointRadius=4,t.pointHoverRadius=10,t.fill=!1,t}),e.$set(e,"analytics",t.data)}))},toggleVersionSettings:function(e){this.$set(e,"showSettings",!e.showSettings)}}),computed:Object(o["a"])({},Object(r["c"])("devise",["languages","mothershipApiKey"]),Object(r["d"])("devise",["layouts"]),{options:function(){return{width:"8000px",legend:{labels:{fontColor:this.theme.panel.color,fontSize:14}},scales:{yAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}],xAxes:[{ticks:{fontColor:this.theme.panel.color,fontSize:12}}]}}}}),components:{DatePicker:function(){return Promise.all([s.e("js/devise-editors~js/devise-utilities"),s.e("js/devise-utilities")]).then(s.bind(null,"7e6e"))},DeviseModal:function(){return Promise.all([s.e("js/devise-editors~js/devise-utilities"),s.e("js/devise-utilities")]).then(s.bind(null,"025b"))},TrashIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"e1d34"))},CopyIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"52cc"))},EditIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"3483"))},CheckmarkIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"a670"))},LineChart:function(){return s.e("js/devise-charts").then(s.bind(null,"379e"))},MetaForm:function(){return s.e("js/devise-meta").then(s.bind(null,"bcdb"))}},mixins:[c["a"],d["a"]]},v=u,g=s("2877"),p=Object(g["a"])(v,a,i,!1,null,null,null);t["default"]=p.exports},"54f8":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.analytics?s("panel",{staticClass:"dvs-fixed dvs-pin-b dvs-pin-r dvs-z-30 dvs-mr-8 dvs-mb-8 dvs-p-4 dvs-pb-0",attrs:{id:"devise-in-page-analytics","panel-style":e.theme.panel}},[e.anlyticsHasData?s("div",{staticClass:"dvs-flex dvs-p-4"},[s("div",{staticClass:"dvs-flex dvs-flex-wrap dvs-justify-around dvs-w-full"},[s("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Sessions"}}),s("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Page Views"}}),s("stat-block-doughnut",{staticClass:"dvs-mr-4 dvs-mb-4",attrs:{analytics:this.analytics,stat:"Bounce Rate"}}),s("stat-block-doughnut",{attrs:{analytics:this.analytics,stat:"Time On Page"}})],1)]):s("div",{staticClass:"dvs-p-8 dvs-pt-4 dvs-text-center"},[e._v("It appears there is not enough data in Google Analytics yet to present statistics. There needs to be at least one week of data and then we will start showing you how this page is performing!")])]):e._e()},i=[],n=s("cebc"),l=s("2f62"),o=s("6e12"),r={data:function(){return{analytics:null,minimized:!1}},mounted:function(){this.retrieveAnalytics()},methods:Object(n["a"])({},Object(l["b"])("devise",["getPageAnalyticsTotals"]),{retrieveAnalytics:function(){var e=this;if(this.mothershipApiKey){var t=new Date;t.setDate(t.getDate()-1),this.getPageAnalyticsTotals({slug:this.currentPage.slug,date:this.formatDate(t)}).then(function(t){e.$set(e,"analytics",t.data)})}}}),computed:Object(n["a"])({},Object(l["c"])("devise",["mothershipApiKey","currentPage"]),{anlyticsHasData:function(){for(var e in this.analytics)if(null===this.analytics[e])return!1;return!0}}),components:{Panel:function(){return Promise.all([s.e("js/devise-editors~js/devise-utilities"),s.e("js/devise-utilities")]).then(s.bind(null,"cb57"))},StatBlockDoughnut:function(){return s.e("js/devise-charts").then(s.bind(null,"ee23"))}},mixins:[o["a"]]},d=r,c=s("2877"),u=Object(c["a"])(d,a,i,!1,null,null,null);t["default"]=u.exports},"5f09":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-fixed dvs-z-9999",staticStyle:{top:"30px",right:"30px"}},[e.showEditor?s("div",{staticClass:"dvs-z-50 dvs-min-w-96 dvs-z-50 dvs-rounded dvs-shadow-lg dvs-flex dvs-items-stretch",style:e.theme.panel},[s("div",{staticClass:"dvs-pin-l dvs-z-10",style:{position:"relative",bottom:"auto",width:"175px",margin:0,borderColor:e.theme.panelCard.background,background:e.theme.panelCard.background},attrs:{id:"dvs-admin-sidebar"}},[s("ul",[s("li",{staticClass:"dvs-cursor-pointer",on:{click:function(t){e.showType="desktop"}}},[e._v("Desktop")]),s("li",{staticClass:"dvs-cursor-pointer",on:{click:function(t){e.showType="mobile"}}},[e._v("Mobile")])]),s("div",{staticClass:"dvs-absolute dvs-pin-l dvs-pin-r dvs-pin-b dvs-p-4"},[s("button",{staticClass:"dvs-btn dvs-w-full dvs-mb-2",style:e.theme.actionButton,on:{click:e.closeEditor}},[e._v("Done")])])]),s("div",{staticClass:"dvs-p-8"},[s("div",{staticStyle:{height:"calc(100vh - 150px)"},attrs:{"data-simplebar":""}},[s("div",{staticClass:"dvs-pl-8"},[s("div",["desktop"===e.showType?s("slice-settings-section",{attrs:{value:e.slice.settings,backgroundColor:e.backgroundColor,"responsive-mode":"desktop"},on:{resetstyles:e.resetStyles,setmarginpadding:e.setMarginPadding,setbackground:e.setBackground}}):e._e(),"mobile"===e.showType?s("slice-settings-section",{attrs:{value:e.slice.settings,backgroundColor:e.backgroundColor,"responsive-mode":"mobile"},on:{resetstyles:e.resetStyles,setmarginpadding:e.setMarginPadding,setbackground:e.setBackground}}):e._e()],1)])])])]):e._e()])},i=[],n=s("cebc"),l=s("2f62"),o=s("2b0e"),r=s("29ec"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticClass:"dvs-uppercase dvs-mb-2",style:{color:e.theme.panelCard.color}},[e._v(e._s(e.responsiveMode))]),e._m(0),s("div",{staticClass:"dvs-flex dvs-justify-center dvs-my-4",attrs:{id:"dvs-slice-manager-margins-padding"}},[s("div",{style:e.theme.panelCard},[s("div",{staticClass:"dvs-flex dvs-p-2 dvs-pb-0"},[s("div",{staticClass:"dvs-text-xs dvs-uppercase dvs-w-1/3"},[e._v("Margin")]),s("div",{staticClass:"dvs-w-1/3 dvs-text-center"},[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("margin","top")},on:{keyup:function(t){return e.setMargin("top",t)},click:function(t){return e.setMargin("top",t)}}})])]),s("div",{staticClass:"dvs-flex dvs-items-center dvs-px-2"},[s("div",[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("margin","left")},on:{keyup:function(t){return e.setMargin("left",t)},click:function(t){return e.setMargin("left",t)}}})]),s("div",{staticClass:"dvs-p-2"},[s("div",{style:e.theme.actionButton},[s("div",{staticClass:"dvs-flex dvs-p-2 dvs-pb-0"},[s("div",{staticClass:"dvs-text-xs dvs-uppercase dvs-w-1/3"},[e._v("Padding")]),s("div",{staticClass:"dvs-w-1/3 dvs-text-center"},[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("padding","top")},on:{keyup:function(t){return e.setPadding("top",t)},click:function(t){return e.setPadding("top",t)}}})])]),s("div",{staticClass:"dvs-flex dvs-items-center dvs-px-2"},[s("div",[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("padding","left")},on:{keyup:function(t){return e.setPadding("left",t)},click:function(t){return e.setPadding("left",t)}}})]),e._m(1),s("div",[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("padding","right")},on:{keyup:function(t){return e.setPadding("right",t)},click:function(t){return e.setPadding("right",t)}}})])]),s("div",{staticClass:"dvs-flex dvs-justify-center dvs-p-2 dvs-pt-0"},[s("div",{staticClass:"dvs-text-center"},[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("padding","bottom")},on:{keyup:function(t){return e.setPadding("bottom",t)},click:function(t){return e.setPadding("bottom",t)}}})])])])]),s("div",[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("margin","right")},on:{keyup:function(t){return e.setMargin("right",t)},click:function(t){return e.setMargin("right",t)}}})])]),s("div",{staticClass:"dvs-flex dvs-justify-center dvs-p-2 dvs-pt-0"},[s("div",{staticClass:"dvs-text-center"},[s("input",{attrs:{type:"number"},domProps:{value:e.getStyle("margin","bottom")},on:{keyup:function(t){return e.setMargin("bottom",t)},click:function(t){return e.setMargin("bottom",t)}}})])])])]),e._m(2),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showBackgroundColor,expression:"showBackgroundColor"}]},[s("sketch-picker",{model:{value:e.bg,callback:function(t){e.bg=t},expression:"bg"}})],1),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.showBackgroundColor,expression:"!showBackgroundColor"}],staticClass:"dvs-btn",style:e.theme.actionButton,on:{click:function(t){e.showBackgroundColor=!0}}},[e._v("Set Background Color")]),s("button",{staticClass:"dvs-btn dvs-mt-8 dvs-rounded-full dvs-w-full",style:e.theme.actionButtonGhost,on:{click:e.resetStyles}},[e._v("Reset")])])},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fieldset",{staticClass:"dvs-fieldset"},[s("label",[e._v("Margins and Padding")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-p-2"},[s("div",{staticClass:"dvs-bg-white dvs-w-24 dvs-h-24"},[e._v("Â ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fieldset",{staticClass:"dvs-fieldset dvs-mt-8"},[s("label",[e._v("Background Color")]),s("p",{staticClass:"dvs-mb-4 dvs-text-xs"},[e._v("Note: Background color effects all responsive sizes")])])}],u=s("c345"),v={data:function(){return{showBackgroundColor:!1}},props:["value","responsiveMode","backgroundColor"],computed:{bg:{get:function(){return this.backgroundColor},set:function(e){this.$emit("setbackground",e)}}},methods:{setMargin:function(e,t){var s=t.target.value;this.$emit("setmarginpadding",{responsiveMode:this.responsiveMode,type:"margin",position:e,value:s})},setPadding:function(e,t){var s=t.target.value;this.$emit("setmarginpadding",{responsiveMode:this.responsiveMode,type:"padding",position:e,value:s})},getStyle:function(e,t){if("margin"===e||"padding"===e){var s="";if("desktop"!==this.responsiveMode&&(s="".concat(this.responsiveMode,"_")),"undefined"!==typeof this.value[s+e]&&"undefined"!==typeof this.value[s+e][t])return this.value[s+e][t]}return 0},resetStyles:function(){this.$emit("resetstyles",this.responsiveMode)}},components:{"sketch-picker":u["Sketch"]}},g=v,p=s("2877"),h=Object(p["a"])(g,d,c,!1,null,null,null),m=h.exports,f=s("66cb"),b={name:"SliceSettings",data:function(){return{showEditor:!1,backgroundColor:null,slice:{},controlStyles:{right:null,top:null},showType:"desktop"}},created:function(){this.backgroundColor=f("#fff").toRgb()},mounted:function(){this.addListeners()},methods:{addListeners:function(){var e=this;window.deviseSettings.$bus.$on("open-slice-settings",function(t){e.showEditor=!0,o["default"].set(e,"slice",t),e.slice.settings.backgroundColor?e.backgroundColor=f(e.slice.settings.backgroundColor).toRgb():e.backgroundColor=f("#fff").toRgb()}),window.deviseSettings.$bus.$on("devise-close-sidebar",function(){e.closeEditor()})},closeEditor:function(){this.showEditor=!1,this.showType="desktop",o["default"].set(this,"slice",{})},resetStyles:function(){this.$set(this.slice,"settings",{}),this.backgroundColor=f("#fff").toRgb()},setMarginPadding:function(e){"desktop"===e.responsiveMode&&this.setDesktopMarginPadding(e),"mobile"===e.responsiveMode&&this.setMobileMarginPadding(e)},setDesktopMarginPadding:function(e){"undefined"===typeof this.slice.settings.margin&&this.$set(this.slice.settings,"margin",{}),"undefined"===typeof this.slice.settings.padding&&this.$set(this.slice.settings,"padding",{}),this.$set(this.slice.settings[e.type],e.position,e.value)},setMobileMarginPadding:function(e){"undefined"===typeof this.slice.settings.mobile_margin&&this.$set(this.slice.settings,"mobile_margin",{}),"undefined"===typeof this.slice.settings.mobile_padding&&this.$set(this.slice.settings,"mobile_padding",{}),this.$set(this.slice.settings["mobile_".concat(e.type)],e.position,e.value)},setBackground:function(e){this.$set(this.slice.settings,"backgroundColor","rgba(".concat(e.rgba.r,",").concat(e.rgba.g,",").concat(e.rgba.b,",").concat(e.rgba.a,")"))}},computed:Object(n["a"])({},Object(l["c"])("devise",["component","sliceConfig"])),mixins:[r["a"]],components:{SliceSettingsSection:m}},y=b,w=Object(p["a"])(y,a,i,!1,null,null,null);t["default"]=w.exports},"6ae2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-relative dvs-cursor-pointer dvs-border-b dvs-transitions-hover-slow",style:e.theme.panelSidebar,on:{mouseenter:e.openPreviewSelector,mouseleave:e.closePreviewSelector}},["desktop"===e.previewMode?s("div",{staticClass:"dvs-m-4 dvs-cursor-pointer",style:{color:e.theme.panelSidebar.secondaryColor}},[s("desktop-icon",{attrs:{w:"25",h:"25"}})],1):e._e(),"tablet"===e.previewMode?s("div",{staticClass:"dvs-m-4 dvs-cursor-pointer",style:{color:e.theme.panelSidebar.secondaryColor}},[s("tablet-icon",{attrs:{w:"25",h:"25"}})],1):e._e(),"mobile-portrait"===e.previewMode?s("div",{staticClass:"dvs-m-4 dvs-cursor-pointer",style:{color:e.theme.panelSidebar.secondaryColor}},[s("phone-portrait-icon",{attrs:{w:"25",h:"25"}})],1):e._e(),"mobile-landscape"===e.previewMode?s("div",{staticClass:"dvs-m-4 dvs-cursor-pointer",style:{color:e.theme.panelSidebar.secondaryColor}},[s("phone-landscape-icon",{attrs:{w:"25",h:"25"}})],1):e._e(),s("div",{ref:"previewSelector",staticClass:"dvs-flex dvs-overflow-hidden dvs-flex-col dvs-rounded-sm dvs-absolute dvs-pin-t dvs-pin-l dvs-mt-2 dvs-ml-10 dvs-z-10",style:e.theme.panelSidebar},[s("div",{staticClass:"dvs-p-3 dvs-cursor-pointer dvs-border-b",style:e.onStyle("desktop"),on:{click:function(t){return e.setPreviewMode("desktop")}}},[s("desktop-icon",{attrs:{w:"20",h:"20"}})],1),s("div",{staticClass:"dvs-p-3 dvs-cursor-pointer dvs-border-b",style:e.onStyle("tablet"),on:{click:function(t){return e.setPreviewMode("tablet")}}},[s("tablet-icon",{attrs:{w:"20",h:"20"}})],1),s("div",{staticClass:"dvs-p-3 dvs-cursor-pointer dvs-border-b",style:e.onStyle("mobile-portrait"),on:{click:function(t){return e.setPreviewMode("mobile-portrait")}}},[s("phone-portrait-icon",{attrs:{w:"20",h:"20"}})],1),s("div",{staticClass:"dvs-p-3 dvs-cursor-pointer",style:e.onStyle("mobile-landscape"),on:{click:function(t){return e.setPreviewMode("mobile-landscape")}}},[s("phone-landscape-icon",{attrs:{w:"20",h:"20"}})],1)])])},i=[],n=s("cebc"),l=s("cffa"),o=s("2f62"),r={data:function(){return{previewMode:"desktop",previewSelector:null}},mounted:function(){this.previewSelector=this.$refs.previewSelector,this.closePreviewSelector()},methods:Object(n["a"])({},Object(o["b"])("devise",["setPreviewModeInCurrentPage"]),{closePreviewSelector:function(){l["b"].to(this.previewSelector,.5,{maxHeight:"0px"})},openPreviewSelector:function(){l["b"].to(this.previewSelector,.5,{maxHeight:"500px"})},setPreviewMode:function(e){this.previewMode=e,this.setPreviewModeInCurrentPage(e)},onStyle:function(e){return this.previewMode===e?{color:this.theme.panelSidebar.secondaryColor}:{}}}),components:{DesktopIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"947d"))},TabletIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"f9cf"))},PhonePortraitIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"6462"))},PhoneLandscapeIcon:function(){return s.e("js/devise-icons").then(s.bind(null,"57bd"))}}},d=r,c=s("2877"),u=Object(c["a"])(d,a,i,!1,null,null,null);t["default"]=u.exports},"6e12":function(e,t,s){"use strict";var a=s("290a");t["a"]={methods:{formatDate:function(e){return Object(a["a"])(e).format("YYYY-MM-DD")}}}},ac5d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"devise-admin-content"}},[s("h3",{staticClass:"dvs-mb-4",style:{color:e.theme.panel.color}},[e._v("Create new page")]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Page Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.title,expression:"newPage.title"}],attrs:{type:"text",placeholder:"Title of the Page"},domProps:{value:e.newPage.title},on:{input:function(t){t.target.composing||e.$set(e.newPage,"title",t.target.value)}}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Copy Look of existing page")]),s("div",{staticClass:"dvs-flex dvs-mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.copy_page,expression:"newPage.copy_page"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.copy_page)?e._i(e.newPage.copy_page,null)>-1:e.newPage.copy_page},on:{change:function(t){var s=e.newPage.copy_page,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,l=e._i(s,n);a.checked?l<0&&e.$set(e.newPage,"copy_page",s.concat([n])):l>-1&&e.$set(e.newPage,"copy_page",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.newPage,"copy_page",i)}}})]),e.newPage.copy_page?s("div",[s("page-search",{attrs:{placeholder:e.newPage.copy_page_title},on:{selected:e.setCopyPage}}),s("help",{staticClass:"dvs-mt-4"},[s("p",[e._v("Will copy layout, slices, and field values from selected page.")])])],1):e._e()]),e.newPage.copy_page?e._e():s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Layout")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.layout,expression:"newPage.layout"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"layout",t.target.multiple?s:s[0])}}},e._l(e.layouts,function(t,a){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(a))])}),0)]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Language")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.newPage.language_id,expression:"newPage.language_id"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newPage,"language_id",t.target.multiple?s:s[0])}}},[s("option",{domProps:{value:null}},[e._v("Please select a language")]),e._l(e.languages.data,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.code)+"\n        ")])})],2)]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Slug")]),s("div",{staticClass:"dvs-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.slug,expression:"newPage.slug"}],attrs:{type:"text",placeholder:"Url of the Page"},domProps:{value:e.newPage.slug},on:{input:function(t){t.target.composing||e.$set(e.newPage,"slug",t.target.value)}}})])]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",[e._v("Published?")]),s("div",{staticClass:"dvs-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPage.published,expression:"newPage.published"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newPage.published)?e._i(e.newPage.published,null)>-1:e.newPage.published},on:{change:function(t){var s=e.newPage.published,a=t.target,i=!!a.checked;if(Array.isArray(s)){var n=null,l=e._i(s,n);a.checked?l<0&&e.$set(e.newPage,"published",s.concat([n])):l>-1&&e.$set(e.newPage,"published",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(e.newPage,"published",i)}}})])]),s("button",{staticClass:"dvs-btn",style:e.theme.actionButton,attrs:{disabled:e.createInvalid},on:{click:e.requestCreatePage}},[e._v("Create")]),s("button",{staticClass:"dvs-btn",style:e.theme.actionButtonGhost,on:{click:function(t){e.showCreate=!1}}},[e._v("Cancel")])])])},i=[],n=s("cebc"),l=s("492a"),o=s.n(l),r=s("2f62"),d={name:"PagesCreate",data:function(){return{newPage:{layout:"",language_id:null,translated_from_page_id:0,title:null,slug:null,canonical:null,head:null,footer:null,middleware:"web",published:!1,copy_page:!1,copy_page_id:0,copy_page_title:"Search Page"}}},mounted:function(){window.deviseSettings.$page.site.settings.hasOwnProperty("defaultLayout")&&(this.newPage.layout=window.deviseSettings.$page.site.settings.defaultLayout)},methods:Object(n["a"])({},Object(r["b"])("devise",["getPages","searchPages","getLanguages","createPage"]),{requestCreatePage:function(){var e=this;this.createPage(this.newPage).then(function(){e.goToPage("devise-pages-index")})},retrieveAllLanguages:function(){var e=this;this.getLanguages().then(function(){window.deviseSettings.$bus.$emit("incrementLoadbar",e.modulesToLoad)})},setCopyPage:function(e){this.newPage.copy_page_id=e.id,this.newPage.copy_page_title=e.title},loadPage:function(e){this.$router.push({name:"devise-pages-view",params:{pageId:e}})}}),computed:Object(n["a"])({},Object(r["c"])("devise",["languages"]),{createInvalid:function(){return null===this.newPage.title||null===this.newPage.layout&&!this.newPage.copy_page&&0===this.newPage.copy_page_id||null===this.newPage.language_id||null===this.newPage.slug},layouts:function(){return window.deviseSettings.$config.layouts}}),components:{PageSearch:function(){return Promise.all([s.e("js/devise-editors~js/devise-utilities"),s.e("js/devise-utilities")]).then(s.bind(null,"59b2"))}},directives:{debounce:o.a}},c=d,u=s("2877"),v=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=v.exports},b8f9:function(e,t){e.exports=function(e,t){var s=null;return function(){clearTimeout(s);var a=arguments,i=this;s=setTimeout(function(){e.apply(i,a)},t)}}}}]);
//# sourceMappingURL=devise-pages.66a65453.js.map