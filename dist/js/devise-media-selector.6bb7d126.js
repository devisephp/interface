"use strict";(self["webpackChunkdevisephp_interface"]=self["webpackChunkdevisephp_interface"]||[]).push([[565],{3425:function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"dvs-flex dvs-items-start dvs-justify-center dvs-flex-wrap"},e._l(e.currentFiles,(function(t){return s("li",{key:t.id,staticClass:"dvs-relative dvs-bg-white",class:{"dvs-cursor-pointer":!t.on,"dvs-p-0 dvs-mx-0 dvs-w-1/4 dvs-flex-grow":"thumbnails"===e.mode,"dvs-p-0 dvs-mb-4 dvs-mt-2":"thumbnails"!==e.mode,"dvs-mx-2 dvs-card":"contactSheet"===e.mode,"dvs-w-full":"list"===e.mode},style:e.indexStyles,on:{click:function(s){return e.openFile(t)}}},[s("div",{staticClass:"dvs-overflow-hidden"},["contactSheet"===e.mode?s("div",{staticClass:"dvs-overflow-hidden dvs-text-center",staticStyle:{width:"100px",height:"105px"}},[s("img",{staticStyle:{"min-width":"75px",height:"75px"},attrs:{src:"/styled/preview/"+t.url+"?w=100&h=100&fit=crop"}}),s("div",{staticClass:"dvs-text-xs dvs-font-bold dvs-px-2"},[e._v(e._s(t.name))])]):"thumbnails"===e.mode?s("div",{staticClass:"p-1 flex-grow"},[s("div",{style:"width:300px;height: 300px;"},[s("img",{attrs:{src:"/styled/preview/"+t.url+"?w=300&h=300&q=100&sharp=2"}})])]):s("div",{staticClass:"dvs-w-full dvs-flex dvs-items-center"},[s("img",{staticStyle:{"min-width":"75px",height:"75px"},attrs:{src:"/styled/preview/"+t.url+"?w=100&h=100"}}),s("div",{staticClass:"dvs-px-4 dvs-font-bold"},[e._v(e._s(t.name))])])])])})),0)},i=[],a={name:"DeviseMediaSelectorFiles",props:{currentFiles:{type:Object|Array,required:!0},mode:{type:String,required:!0}},computed:{indexStyles(){return"thumbnails"===this.mode?{minWidth:"300px"}:{}}},methods:{openFile(e){this.$emit("openFile",e)},selectSourceFile(e){this.$emit("selectedfile",e)}}},d=a,n=s(1001),r=(0,n.Z)(d,l,i,!1,null,"01019fa3",null),o=r.exports},9242:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"fast-fade"}},[e.localFile?s("div",{staticClass:"dvs-flex dvs-p-4 dvs-overflow-hidden dvs-fixed dvs-absolute-center dvs-z-50 dvs-bg-white dvs-rounded dvs-shadow-lg"},[s("div",{staticClass:"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeFile(e.localFile)}}},[s("close-icon",{attrs:{w:"30",h:"30"}})],1),s("div",{staticClass:"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between"},[s("div",[s("transition",{attrs:{name:"dvs-fade",mode:"out-in"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.localFile.loaded,expression:"localFile.loaded"}],staticClass:"dvs-cursor-pointer dvs-mb-4",attrs:{src:"/styled/preview/"+e.localFile.url+"?w=500&h=500"},on:{load:function(t){e.localFile.loaded=!0}}})]),e.localFile.loaded?e._e():s("loading-screen",{key:"loadingscreen",attrs:{inline:!0,"inline-message":"Loading Large Preview"}})],1),s("div",{staticClass:"dvs-flex"},[s("div",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.confirmedDeleteFile,arguments:e.localFile,message:"Are you sure you want to delete this media?"},expression:"{\n              callback: confirmedDeleteFile,\n              arguments: localFile,\n              message: 'Are you sure you want to delete this media?',\n            }"}],staticClass:"dvs-mr-4 dvs-cursor-pointer dvs-text-admin-bg"},[s("trash-icon",{attrs:{h:"20",w:"20"}})],1),s("a",{staticClass:"dvs-mr-4 dvs-text-admin-bg",attrs:{href:"/styled/preview/"+e.localFile.url,target:"_blank"}},[s("link-icon",{attrs:{h:"20",w:"20"}})],1),s("a",{staticClass:"dvs-text-admin-bg",attrs:{href:"/styled/preview/"+e.localFile.url,target:"_blank",download:""}},[s("download-icon",{attrs:{h:"20",w:"20"}})],1)])]),s("div",{staticClass:"dvs-w-1/2"},[s("h6",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("Filename")]),s("p",{staticClass:"dvs-text-sm"},[e._v(e._s(e.localFile.name))]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("URL")]),s("input",{staticClass:"w-full",attrs:{type:"text",readonly:""},domProps:{value:e.localFile.url}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("Global Caption")]),s("div",{staticClass:"dvs-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.localFile.alt,expression:"localFile.alt"}],staticClass:"dvs-mr-4",attrs:{type:"text"},domProps:{value:e.localFile.alt},on:{input:function(t){t.target.composing||e.$set(e.localFile,"alt",t.target.value)}}}),s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary",on:{click:function(t){return e.requestSaveCaption(e.localFile)}}},[e._v(" Save Caption ")])])]),s("p",[s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary",on:{click:function(t){return e.selectSourceFile(e.localFile)}}},[e._v(" Select ")])]),e.isActive(e.localFile)?[s("h6",{staticClass:"dvs-my-2 dvs-text-sm"},[e._v("Appears On")]),s("ul",e._l(e.localFile.fields,(function(t){return s("li",{key:t.id,staticClass:"dvs-py-2"},[s("a",{staticClass:"dvs-btn dvs-btn-sm",attrs:{href:t.page_slug,target:"_blank"}},[e._v(e._s(t.page_title)+" - "+e._s(t.field_name))])])})),0)]:e._e()],2)]):e._e()])],1)},i=[],a=s(629),d={name:"DeviseOpenMediaFile",components:{LoadingScreen:()=>s.e(524).then(s.bind(s,5480)),TrashIcon:()=>s.e(952).then(s.bind(s,4371)),CloseIcon:()=>s.e(952).then(s.bind(s,7583)),LinkIcon:()=>s.e(952).then(s.bind(s,5649)),DownloadIcon:()=>s.e(952).then(s.bind(s,164))},props:{value:{type:Object,default:null}},computed:{localFile:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{...(0,a.nv)("devise",["saveCaption","deleteFile"]),selectSourceFile(e){this.$emit("selectSourceFile",e)},requestSaveCaption(e){const t={image:e.url,alt_text:e.alt};this.saveCaption(t)},confirmedDeleteFile(e){this.deleteFile(e).then((()=>{this.$emit("fileDeleted")}))},closeFile(){this.$emit("close")},isActive(e){return e.used_count>0}}},n=d,r=s(1001),o=(0,r.Z)(n,l,i,!1,null,null,null),c=o.exports}}]);
//# sourceMappingURL=devise-media-selector.6bb7d126.js.map