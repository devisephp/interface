"use strict";(self["webpackChunkdevisephp_interface"]=self["webpackChunkdevisephp_interface"]||[]).push([[565],{5331:function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"dvs-items-start dvs-justify-center grid",class:{"lg:dvs-grid-cols-2  xl:dvs-grid-cols-3 dvs-gap-8":"thumbnails"===e.mode,"dvs-grid-cols-2 md:dvs-grid-cols-4 lg:dvs-grid-cols-6 xl:dvs-grid-cols-8 2xl:dvs-grid-cols-12 dvs-gap-6":"contactSheet"===e.mode,"lg:dvs-grid-cols-2 dvs-gap-6":"list"===e.mode}},e._l(e.currentFiles,(function(t){return s("li",{key:t.id,staticClass:"dvs-relative dvs-bg-white dvs-h-full dvs-w-full",class:{"dvs-cursor-pointer":!t.on,"dvs-w-full":"list"===e.mode},on:{click:function(s){return e.openFile(t)}}},[s("div",{staticClass:"dvs-overflow-hidden dvs-w-full dvs-h-full dvs-rounded"},["contactSheet"===e.mode?s("div",[s("div",{staticClass:"dvs-overflow-hidden dvs-rounded dvs-h-full dvs-w-full"},[s("img",{staticClass:"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full",staticStyle:{"min-width":"100px",height:"100px"},attrs:{src:"/styled/preview/"+t.url+"?w=200&h=200&fit=crop"}})])]):"thumbnails"===e.mode?s("img",{staticClass:"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full",attrs:{src:"/styled/preview/"+t.url+"?w=300&h=300&q=100&sharp=2"}}):s("div",{staticClass:"dvs-flex dvs-items-center dvs-mt-6"},[s("div",{staticClass:"dvs-overflow-hidden dvs-rounded dvs-w-1/3",staticStyle:{height:"100px"}},[s("img",{staticClass:"dvs-object-cover dvs-object-center dvs-w-full dvs-h-full",attrs:{src:"/styled/preview/"+t.url+"?w=100&h=100"}})]),s("div",{staticClass:"dvs-px-4 dvs-font-bold dvs-w-1/2"},[e._v(e._s(t.name))])])])])})),0)},i=[],a={name:"DeviseMediaSelectorFiles",props:{currentFiles:{type:Object|Array,required:!0},mode:{type:String,required:!0}},methods:{openFile:function(e){this.$emit("openFile",e)},selectSourceFile:function(e){this.$emit("selectedfile",e)}}},d=a,n=s(1001),r=(0,n.Z)(d,l,i,!1,null,"3469eca2",null),o=r.exports},5911:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("transition",{attrs:{name:"fast-fade"}},[e.localFile?s("div",{staticClass:"dvs-flex dvs-p-4 dvs-overflow-hidden dvs-fixed dvs-absolute-center dvs-z-50 dvs-bg-white dvs-rounded dvs-shadow-lg"},[s("div",{staticClass:"dvs-absolute z-10 dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4 dvs-cursor-pointer",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeFile(e.localFile)}}},[s("close-icon",{attrs:{w:"30",h:"30"}})],1),s("div",{staticClass:"dvs-w-1/2 dvs-mr-8 dvs-flex dvs-flex-col dvs-justify-between"},[s("div",[s("transition",{attrs:{name:"dvs-fade",mode:"out-in"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.localFile.loaded,expression:"localFile.loaded"}],staticClass:"dvs-cursor-pointer dvs-mb-4",attrs:{src:"/styled/preview/"+e.localFile.url+"?w=500&h=500"},on:{load:e.imageLoaded}})]),e.localFile.loaded?e._e():s("loading-screen",{key:"loadingscreen",attrs:{inline:!0,"inline-message":"Loading Large Preview"}})],1),s("div",{staticClass:"dvs-flex dvs-justify-between"},[s("div",{staticClass:"dvs-flex"},[s("div",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.confirmedDeleteFile,arguments:e.localFile,message:"Are you sure you want to delete this media?"},expression:"{\n                callback: confirmedDeleteFile,\n                arguments: localFile,\n                message: 'Are you sure you want to delete this media?',\n              }"}],staticClass:"dvs-mr-4 dvs-cursor-pointer dvs-text-gray-800"},[s("trash-icon",{attrs:{h:"20",w:"20"}})],1),s("a",{staticClass:"dvs-mr-4 dvs-text-gray-800",attrs:{href:"/styled/preview/"+e.localFile.url,target:"_blank"}},[s("link-icon",{attrs:{h:"20",w:"20"}})],1),s("a",{staticClass:"dvs-text-gray-800",attrs:{href:"/styled/preview/"+e.localFile.url,target:"_blank",download:""}},[s("download-icon",{attrs:{h:"20",w:"20"}})],1)]),s("div",{staticClass:"dvs-text-gray-600 dvs-text-sm dvs-uppercase dvs-font-bold"},[e._v(" "+e._s(e.width)+" x "+e._s(e.height)+" ")])])]),s("div",{staticClass:"dvs-w-1/2"},[s("h6",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("Filename")]),s("p",{staticClass:"dvs-text-sm"},[e._v(e._s(e.localFile.name))]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("URL")]),s("input",{staticClass:"w-full",attrs:{type:"text",readonly:""},domProps:{value:e.localFile.url}})]),s("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[s("label",{staticClass:"dvs-text-xs dvs-uppercase dvs-mb-1"},[e._v("Global Caption")]),s("div",{staticClass:"dvs-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.localFile.alt,expression:"localFile.alt"}],staticClass:"dvs-mr-4",attrs:{type:"text"},domProps:{value:e.localFile.alt},on:{input:function(t){t.target.composing||e.$set(e.localFile,"alt",t.target.value)}}}),s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary",on:{click:function(t){return e.requestSaveCaption(e.localFile)}}},[e._v(" Save Caption ")])])]),s("p",[s("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary",on:{click:function(t){return e.selectSourceFile(e.localFile)}}},[e._v(" Select ")])]),e.isActive(e.localFile)?[s("h6",{staticClass:"dvs-my-2 dvs-text-sm"},[e._v("Appears On")]),s("ul",e._l(e.localFile.fields,(function(t){return s("li",{key:t.id,staticClass:"dvs-py-2"},[s("a",{staticClass:"dvs-btn dvs-btn-sm",attrs:{href:t.page_slug,target:"_blank"}},[e._v(e._s(t.page_title)+" - "+e._s(t.field_name))])])})),0)]:e._e()],2)]):e._e()])],1)},i=[],a=s(4367),d=(s(1539),s(8783),s(3948),s(629)),n={name:"DeviseOpenMediaFile",components:{LoadingScreen:function(){return s.e(524).then(s.bind(s,5480))},TrashIcon:function(){return s.e(952).then(s.bind(s,4371))},CloseIcon:function(){return s.e(952).then(s.bind(s,7583))},LinkIcon:function(){return s.e(952).then(s.bind(s,5649))},DownloadIcon:function(){return s.e(952).then(s.bind(s,164))}},props:{value:{type:Object,default:null}},data:function(){return{width:0,height:0}},computed:{localFile:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:(0,a.Z)((0,a.Z)({},(0,d.nv)("devise",["saveCaption","deleteFile"])),{},{selectSourceFile:function(e){this.$emit("selectSourceFile",e)},requestSaveCaption:function(e){var t={image:e.url,alt_text:e.alt};this.saveCaption(t)},confirmedDeleteFile:function(e){var t=this;this.deleteFile(e).then((function(){t.$emit("fileDeleted")}))},closeFile:function(){this.$emit("close")},isActive:function(e){return e.used_count>0},imageLoaded:function(){this.localFile.loaded=!0,this.calculateImageSize()},calculateImageSize:function(){var e=this,t=new Image;t.src="/styled/preview/".concat(this.localFile.url),t.onload=function(){e.width=t.width,e.height=t.height}}})},r=n,o=s(1001),c=(0,o.Z)(r,l,i,!1,null,null,null),v=c.exports}}]);
//# sourceMappingURL=devise-media-selector-legacy.53d7f86e.js.map