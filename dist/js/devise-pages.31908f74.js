(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["devise-pages"],{"3e67":function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},"5a0c":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,s="millisecond",i="second",r="minute",a="hour",c="day",o="week",l="month",d="quarter",u="year",f="date",v="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},y={s:p,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),s=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+p(s,2,"0")+":"+p(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var s=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(s,l),r=n-i<0,a=t.clone().add(s+(r?-1:1),l);return+(-(s+(n-i)/(r?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:o,d:c,D:f,h:a,m:r,s:i,ms:s,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",b={};b[S]=m;var $=function(e){return e instanceof O},w=function(e,t,n){var s;if(!e)return S;if("string"==typeof e)b[e]&&(s=e),t&&(b[e]=t,s=e);else{var i=e.name;b[i]=e,s=i}return!n&&s&&(S=s),s||!n&&S},x=function(e,t){if($(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new O(n)},_=y;_.l=w,_.i=$,_.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e)}var p=m.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(h);if(s){var i=s[2]-1||0,r=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],i,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return _},p.isValid=function(){return!(this.$d.toString()===v)},p.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},p.isAfter=function(e,t){return x(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<x(e)},p.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,t){var n=this,s=!!_.u(t)||t,d=_.p(e),v=function(e,t){var i=_.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return s?i:i.endOf(c)},h=function(e,t){return _.w(n.toDate()[e].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},g=this.$W,m=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case u:return s?v(1,0):v(31,11);case l:return s?v(1,m):v(0,m+1);case o:var S=this.$locale().weekStart||0,b=(g<S?g+7:g)-S;return v(s?p-b:p+(6-b),m);case c:case f:return h(y+"Hours",0);case a:return h(y+"Minutes",1);case r:return h(y+"Seconds",2);case i:return h(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(e,t){var n,o=_.p(e),d="set"+(this.$u?"UTC":""),v=(n={},n[c]=d+"Date",n[f]=d+"Date",n[l]=d+"Month",n[u]=d+"FullYear",n[a]=d+"Hours",n[r]=d+"Minutes",n[i]=d+"Seconds",n[s]=d+"Milliseconds",n)[o],h=o===c?this.$D+(t-this.$W):t;if(o===l||o===u){var g=this.clone().set(f,1);g.$d[v](h),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else v&&this.$d[v](h);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[_.p(e)]()},p.add=function(s,d){var f,v=this;s=Number(s);var h=_.p(d),g=function(e){var t=x(v);return _.w(t.date(t.date()+Math.round(e*s)),v)};if(h===l)return this.set(l,this.$M+s);if(h===u)return this.set(u,this.$y+s);if(h===c)return g(1);if(h===o)return g(7);var m=(f={},f[r]=t,f[a]=n,f[i]=e,f)[h]||1,p=this.$d.getTime()+s*m;return _.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||v;var s=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),r=this.$H,a=this.$m,c=this.$M,o=n.weekdays,l=n.months,d=function(e,n,i,r){return e&&(e[n]||e(t,s))||i[n].substr(0,r)},u=function(e){return _.s(r%12||12,e,"0")},f=n.meridiem||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:_.s(c+1,2,"0"),MMM:d(n.monthsShort,c,l,3),MMMM:d(l,c),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,o,2),ddd:d(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(r),HH:_.s(r,2,"0"),h:u(1),hh:u(2),a:f(r,a,!0),A:f(r,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:i};return s.replace(g,(function(e,t){return t||h[e]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,f,v){var h,g=_.p(f),m=x(s),p=(m.utcOffset()-this.utcOffset())*t,y=this-m,S=_.m(this,m);return S=(h={},h[u]=S/12,h[l]=S,h[d]=S/3,h[o]=(y-p)/6048e5,h[c]=(y-p)/864e5,h[a]=y/n,h[r]=y/t,h[i]=y/e,h)[g]||y,v?S:_.a(S)},p.daysInMonth=function(){return this.endOf(l).$D},p.$locale=function(){return b[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=w(e,t,!0);return s&&(n.$L=s),n},p.clone=function(){return _.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},m}(),C=O.prototype;return x.prototype=C,[["$ms",s],["$s",i],["$m",r],["$H",a],["$W",c],["$M",l],["$y",u],["$D",f]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,O,x),e.$i=!0),x},x.locale=w,x.isDayjs=$,x.unix=function(e){return x(1e3*e)},x.en=b[S],x.Ls=b,x.p={},x}))},"72bf":function(e,t,n){"use strict";const s=n("3e67"),i=n("f234"),r=n("f32c"),a=n("7348"),c=e=>null===e||void 0===e;function o(e){switch(e.arrayFormat){case"index":return t=>(n,s)=>{const i=n.length;return void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?n:null===s?[...n,[u(t,e),"[",i,"]"].join("")]:[...n,[u(t,e),"[",u(i,e),"]=",u(s,e)].join("")]};case"bracket":return t=>(n,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?n:null===s?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(s,e)].join("")];case"comma":case"separator":return t=>(n,s)=>null===s||void 0===s||0===s.length?n:0===n.length?[[u(t,e),"=",u(s,e)].join("")]:[[n,u(s,e)].join(e.arrayFormatSeparator)];default:return t=>(n,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?n:null===s?[...n,u(t,e)]:[...n,[u(t,e),"=",u(s,e)].join("")]}}function l(e){let t;switch(e.arrayFormat){case"index":return(e,n,s)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===s[e]&&(s[e]={}),s[e][t[1]]=n):s[e]=n};case"bracket":return(e,n,s)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==s[e]?s[e]=[].concat(s[e],n):s[e]=[n]:s[e]=n};case"comma":case"separator":return(t,n,s)=>{const i="string"===typeof n&&n.includes(e.arrayFormatSeparator),r="string"===typeof n&&!i&&f(n,e).includes(e.arrayFormatSeparator);n=r?f(n,e):n;const a=i||r?n.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===n?n:f(n,e);s[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function v(e){return Array.isArray(e)?e.sort():"object"===typeof e?v(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function h(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function m(e){e=h(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),d(t.arrayFormatSeparator);const n=l(t),s=Object.create(null);if("string"!==typeof e)return s;if(e=e.trim().replace(/^[?#&]/,""),!e)return s;for(const i of e.split("&")){if(""===i)continue;let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:f(a,t),n(f(e,t),a,s)}for(const i of Object.keys(s)){const e=s[i];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=p(e[n],t);else s[i]=p(e,t)}return!1===t.sort?s:(!0===t.sort?Object.keys(s).sort():Object.keys(s).sort(t.sort)).reduce((e,t)=>{const n=s[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=v(n):e[t]=n,e},Object.create(null))}t.extract=m,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),d(t.arrayFormatSeparator);const n=n=>t.skipNull&&c(e[n])||t.skipEmptyString&&""===e[n],s=o(t),i={};for(const a of Object.keys(e))n(a)||(i[a]=e[a]);const r=Object.keys(i);return!1!==t.sort&&r.sort(t.sort),r.map(n=>{const i=e[n];return void 0===i?"":null===i?u(n,t):Array.isArray(i)?i.reduce(s(n),[]).join("&"):u(n,t)+"="+u(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,s]=r(e,"#");return Object.assign({url:n.split("?")[0]||"",query:y(m(e),t)},t&&t.parseFragmentIdentifier&&s?{fragmentIdentifier:f(s,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const s=h(e.url).split("?")[0]||"",i=t.extract(e.url),r=t.parse(i,{sort:!1}),a=Object.assign(r,e.query);let c=t.stringify(a,n);c&&(c="?"+c);let o=g(e.url);return e.fragmentIdentifier&&(o="#"+u(e.fragmentIdentifier,n)),`${s}${c}${o}`},t.pick=(e,n,s)=>{s=Object.assign({parseFragmentIdentifier:!0},s);const{url:i,query:r,fragmentIdentifier:c}=t.parseUrl(e,s);return t.stringifyUrl({url:i,query:a(r,n),fragmentIdentifier:c},s)},t.exclude=(e,n,s)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,s)}},7348:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},s=Object.keys(e),i=Array.isArray(t),r=0;r<s.length;r++){var a=s[r],c=e[a];(i?-1!==t.indexOf(a):t(a,c,e))&&(n[a]=c)}return n}},"792d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"admin-route-wrapper",staticClass:"dvs-relative dvs-max-w-1/2 dvs-self-center dvs-shadow-lg dvs-bg-admin-bg dvs-text-admin-fg dvs-rounded dvs-pointer-events-auto",staticStyle:{"min-width":"400px"},attrs:{id:"dvs-admin-content-container"}},[n("div",[n("div",[e.can("manage slices")?n("div",{staticClass:"dvs-pt-8 dvs-pb-16 dvs-relative"},[n("div",{staticClass:"dvs-absolute dvs-top-0 dvs-right-0 dvs-mt-4 dvs-mr-4"},[n("toggle",{attrs:{id:e.randomString(8),mini:!0},on:{change:e.setDevMode}})],1),n("div",{staticClass:"dvs-px-8 dvs-mb-8 dvs-text-xl dvs-font-sans"},[n("div",{staticClass:"dvs-cursor-pointer dvs-flex dvs-items-center",on:{click:function(t){return e.goToEditPage()}}},[n("span",{staticClass:"dvs-text-xs dvs-mr-2"},[n("edit-icon")],1),e._v(" "+e._s(e.currentPage.title)+" ")])]),n("div",{staticClass:"dvs-p-8 dvs-pt-0"},[e.showTimeTravel?n("fieldset",{staticClass:"dvs-fieldset"},[n("label",[e._v("Preview Date Time")]),n("div",{staticClass:"dvs-flex"},[n("date-picker",{ref:"datepicker",staticClass:"dvs-mr-2",attrs:{settings:{date:!0,time:!0}},model:{value:e.timeTravelDate,callback:function(t){e.timeTravelDate=t},expression:"timeTravelDate"}}),n("button",{staticClass:"dvs-rounded dvs-btn dvs-btn-primary dvs-btn-sm dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-text-xs dvs-font-bold",on:{click:e.timeTravel}},[e._v(" Go ")])],1)]):n("fieldset",{staticClass:"dvs-fieldset"},[n("div",{staticClass:"flex flex-col items-stretch"},[n("label",{staticClass:"dvs-opacity-75"},[e._v("Page Version")]),n("select",{staticClass:"dvs-small dvs-bg-admin-secondary-bg dvs-text-admin-secondary-fg",on:{change:e.selectVersion}},[e._l(e.currentPage.versions,(function(t){return n("option",{key:t.id,domProps:{value:t.id,selected:t.current}},[e._v(" "+e._s(t.name)+" "),t.current?[e._v("(Currently Viewing)")]:e._e(),t.is_live?[e._v(" (Live)")]:e._e()],2)})),n("option",{attrs:{value:"timetravel"}},[e._v("Time Travel Preview")])],2)])])]),e._m(0),n("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-center"},[n("draggable",e._b({staticClass:"dvs-w-full dvs-px-4",attrs:{list:e.currentPageSlices,tag:"ul"}},"draggable",{group:{name:"slices"},animation:200,ghostClass:"dvs-ghost",handle:".handle",dragClass:"dvs-chosen-drag-slice",emptyInsertThreshold:10,removeCloneOnHide:!1},!1),[e._l(e.currentPageSlices,(function(t,s){return[n("slice-editor",{key:e.randomString(8,s),attrs:{depth:1},on:{opened:function(n){return e.openSlice(t)},addSlice:e.addSlice,editSlice:e.editSlice,removeSlice:e.removeSlice,copySlice:e.copySlice},model:{value:e.currentPageSlices[s],callback:function(t){e.$set(e.currentPageSlices,s,t)},expression:"currentPageSlices[key]"}})]}))],2)],1),e.additionalPageSettings?n("div",{staticClass:"dvs-px-8"},[n("fieldset",{staticClass:"dvs-fieldset dvs-mb-2"},[n("label",{staticClass:"dvs-mb-2 dvs-cursor-pointer",on:{click:function(t){e.additionalSettingsOpen=!e.additionalSettingsOpen}}},[e._v("Additional Page Settings")])]),n("slice-editor-fields",{directives:[{name:"show",rawName:"v-show",value:e.additionalSettingsOpen,expression:"additionalSettingsOpen"}],attrs:{"the-fields":e.additionalPageSettings},model:{value:e.currentPage.settings.fields,callback:function(t){e.$set(e.currentPage.settings,"fields",t)},expression:"currentPage.settings.fields"}})],1):e._e(),n("div",{staticClass:"dvs-relative dvs-flex dvs-flex-col dvs-items-center dvs-px-8"},[!0===e.createSlice?n("manage-slice",{ref:"manageSlice",attrs:{mode:"inserting"},on:{addSlice:e.addSlice,cancel:function(t){e.createSlice=!1}}}):e._e()],1)]):n("div",[e._m(1)]),e.can("manage slices")?n("div",{staticClass:"dvs-absolute dvs-bottom-0 dvs-left-0 dvs-right-0 dvs-mb-3 dvs-flex dvs-justify-around dvs-items-stretch dvs-p-2 dvs-px-8"},[n("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-primary dvs-w-2/5 dvs-mr-2 dvs-flex dvs-justify-center dvs-items-center",on:{click:function(t){return t.preventDefault(),e.requestSavePage()}}},[e.saving?n("refresh-icon",{staticClass:"dvs-mr-2 dvs-rotate-ccw",attrs:{w:"15",h:"15"}}):e._e(),e._v("Save Page ")],1),n("button",{staticClass:"dvs-btn dvs-btn-sm dvs-btn-secondary dvs-w-3/5 dvs-flex dvs-justify-center dvs-items-center dvs-uppercase dvs-font-bold dvs-w-2/5",on:{click:function(t){return t.preventDefault(),e.requestAddSlice.apply(null,arguments)}}},[e._v(" Add Slice ")])]):e._e()])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dvs-px-8"},[n("fieldset",{staticClass:"dvs-fieldset"},[n("label",{staticClass:"dvs-opacity-75"},[e._v("Page Slices")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dvs-p-8"},[n("fieldset",{staticClass:"dvs-fieldset"},[n("div",{staticClass:"dvs-flex dvs-flex-col dvs-items-stretch"},[n("h4",[e._v("Administration")]),n("p",{staticClass:"dvs-mt-4"},[e._v("Use the icons along the left column to navigate.")])])])])}],r=n("53ca"),a=n("5530"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("d81d"),n("a434"),n("e9c4"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("99af"),n("841c"),n("2f62")),o=n("7e6e"),l=n("29ec"),d=n("72bf"),u={name:"PageEditor",components:{DatePicker:o["default"],RefreshIcon:function(){return n.e("devise-icons").then(n.bind(null,"e862"))},draggable:function(){return Promise.all([n.e("devise-editors~devise-media~devise-slices"),n.e("devise-editors")]).then(n.t.bind(null,"b76a",7))},ManageSlice:function(){return Promise.all([n.e("devise-editors~devise-media~devise-slices"),n.e("devise-editors")]).then(n.bind(null,"7589"))},SliceEditor:function(){return Promise.all([n.e("devise-editors~devise-media~devise-slices"),n.e("devise-editors")]).then(n.bind(null,"0fab"))},SliceEditorFields:function(){return Promise.all([n.e("devise-editors~devise-media~devise-slices"),n.e("devise-editors")]).then(n.bind(null,"20c2"))},Toggle:function(){return n.e("devise-utilities").then(n.bind(null,"aa28"))},EditIcon:function(){return n.e("devise-icons").then(n.bind(null,"39b0"))}},mixins:[l["a"]],data:function(){return{saving:!1,createSlice:!1,showTimeTravel:!1,timeTravelDate:null,additionalSettingsOpen:!1,queryString:d}},computed:Object(a["a"])(Object(a["a"])({},Object(c["c"])("devise",["currentPage","sliceConfig"])),{},{currentPageSlices:function(){return this.currentPage.slices},additionalPageSettings:function(){var e=this;if(window.deviseSettings.$config.additionalPageSettings){var t=window.deviseSettings.$config.additionalPageSettings.find((function(t){return t.siteId===e.currentPage.site_id}));if(t)return t.fields}return!1}}),mounted:function(){var e=this;this.additionalPageSettings&&(this.currentPage.settings.fields=Object.assign({},this.additionalPageSettings,this.currentPage.settings.fields)),setTimeout((function(){e.$watch("currentPage",(function(){window.onbeforeunload=function(){return"Changes you made may not be saved"}}),{deep:!0})}),1e3)},methods:Object(a["a"])(Object(a["a"])({},Object(c["b"])("devise",["savePage","setDevMode"])),{},{requestSavePage:function(){var e=this;this.saving=!0,this.savePage({page:this.currentPage}).then((function(e){480===e?window.deviseSettings.$bus.$emit("showForceSave"):window.onbeforeunload=null})).finally((function(){e.saving=!1,e.recalculateScroll()}))},goToEditPage:function(){this.$router.push({name:"devise-pages-admin",params:{workflowKey:"jumpto-edit-page",pageId:this.currentPage.id}})},toggleSlice:function(e){e.metadata.open?this.closeSlice(e):this.openSlice(e)},openSlice:function(e){var t=this;this.currentPage.slices.map((function(e){return t.closeSlice(e)})),this.$set(e.metadata,"open",!0)},closeSlice:function(e){this.$set(e.metadata,"open",!1)},requestAddSlice:function(){this.createSlice=!0},addSlice:function(e,t){if("undefined"!==typeof t){var n=this.sliceConfig(t);!0===n.has_child_slot&&("undefined"===typeof t.slices&&this.$set(t,"slices",[]),t.slices.push(e))}else!0===e.metadata.has_child_slot&&"undefined"===typeof e.slices&&this.$set(e,"slices",[]),this.currentPage.slices.push(e);this.createSlice=!1},findReferenceSliceInSlices:function(e,t){var n=this;return e.find((function(e){return e===t?e:e.slices?n.findReferenceSliceInSlices(e.slices,t):void 0}))},editSlice:function(e,t){e.metadata.has_child_slot&&(e.slices=t.slices),this.currentPage.slices.splice(this.currentPage.slices.indexOf(t),1,e)},setSubSliceInstaceToZero:function(e){for(var t=0;t<e.length;t+=1)e[t].metadata.instance_id=0,"object"===Object(r["a"])(e[t].slices)&&e[t].slices.length>0&&(e[t].slices=this.setSubSliceInstaceToZero(e[t].slices));return e},copySlice:function(e,t){null===t&&(t=this.currentPage);var n=JSON.parse(JSON.stringify(e));n.metadata.instance_id=0,"object"===Object(r["a"])(n.slices)&&n.slices.length>0&&(n.slices=this.setSubSliceInstaceToZero(n.slices)),t.slices.push(n)},removeSlice:function(e,t){"undefined"===typeof t&&(t=this.currentPage),t.slices.splice(t.slices.indexOf(e),1)},selectVersion:function(e){if("timetravel"===e.target.value)return this.showTimeTravel=!0,!1;var t=parseInt(e.target.value,0),n=document.location.href,s="";return n.includes("version_id")?(s=n.replace(/(version_id=[0-9]*)/g,"version_id=".concat(t)),document.location.href=s,!0):(s=n,s=s.includes("?")?"".concat(s,"&"):"".concat(s,"?"),document.location.href="".concat(s,"version_id=").concat(t),!0)},timeTravel:function(){var e={time_travel_to:this.timeTravelDate},t=this.queryString.stringify(e);return document.location.search=t,!0},recalculateScroll:function(){var e=this;this.$nextTick((function(){"undefined"!==typeof e.$refs.Scrollbar&&(e.$refs.Scrollbar.calculateSize(),e.$refs.Scrollbar.scrollToY(0))}))}})},f=u,v=n("2877"),h=Object(v["a"])(f,s,i,!1,null,null,null);t["default"]=h.exports},"7e6e":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flat-pickr",{ref:"picker",staticClass:"w-full",attrs:{config:e.config,placeholder:e.placeholder},model:{value:e.localDateTime,callback:function(t){e.localDateTime=t},expression:"localDateTime"}})},i=[],r=(n("d3b7"),n("3ca3"),n("ddb0"),n("5a0c")),a={components:{flatPickr:function(){return n.e("devise-flatpickr").then(n.t.bind(null,"c38f",7))}},props:{value:{required:!0},settings:{type:Object,default:function(){return{date:!0,time:!0}}},placeholder:{type:String,default:"Please select from the calendar"}},data:function(){return{config:{noCalendar:!this.settings.date,enableTime:this.settings.time,onChange:this.updateValue}}},computed:{localDateTime:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.$emit("change",e)}}},methods:{updateValue:function(e){e=this.formatValue(e),this.localDateTime=e},formatValue:function(e){return this.settings.format?r(e).format(this.settings.format):this.settings.date&&this.settings.time?r(e).format("YYYY-MM-DD HH:mm:ss"):this.settings.date&&!this.settings.time?r(e).format("YYYY-MM-DD"):!this.settings.date&&this.settings.time?r(e).format("HH:mm:ss"):null}}},c=a,o=n("2877"),l=Object(o["a"])(c,s,i,!1,null,null,null);t["default"]=l.exports},f234:function(e,t,n){"use strict";var s="%[a-f0-9]{2}",i=new RegExp(s,"gi"),r=new RegExp("("+s+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),s=e.slice(t);return Array.prototype.concat.call([],a(n),a(s))}function c(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(i),n=1;n<t.length;n++)e=a(t,n).join(""),t=e.match(i);return e}}function o(e){var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(l){var s=c(n[0]);s!==n[0]&&(t[n[0]]=s)}n=r.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),a=0;a<i.length;a++){var o=i[a];e=e.replace(new RegExp(o,"g"),t[o])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return o(e)}}},f32c:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}}}]);
//# sourceMappingURL=devise-pages.31908f74.js.map